
> agentic-sdlc@0.1.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc
> turbo run test

â€¢ Packages in scope: @agentic-sdlc/base-agent, @agentic-sdlc/contracts, @agentic-sdlc/dashboard, @agentic-sdlc/deployment-agent, @agentic-sdlc/e2e-agent, @agentic-sdlc/integration-agent, @agentic-sdlc/ops, @agentic-sdlc/orchestrator, @agentic-sdlc/scaffold-agent, @agentic-sdlc/shared-types, @agentic-sdlc/shared-utils, @agentic-sdlc/test-utils, @agentic-sdlc/validation-agent
â€¢ Running test in 13 packages
â€¢ Remote caching disabled
@agentic-sdlc/ops:test: cache miss, executing 5842696c13fdfc1d
@agentic-sdlc/shared-utils:build: cache hit, replaying logs 5ca9a672db0388f6
@agentic-sdlc/shared-utils:build: 
@agentic-sdlc/shared-utils:build: > @agentic-sdlc/shared-utils@1.0.0 build /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/shared/utils
@agentic-sdlc/shared-utils:build: > tsc
@agentic-sdlc/shared-utils:build: 
@agentic-sdlc/shared-types:build: cache hit, replaying logs fdcaa61cdcae073e
@agentic-sdlc/shared-types:build: 
@agentic-sdlc/shared-types:build: > @agentic-sdlc/shared-types@1.0.0 build /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/shared/types
@agentic-sdlc/shared-types:build: > tsc
@agentic-sdlc/shared-types:build: 
@agentic-sdlc/contracts:test: cache miss, executing 44aa9a7951d327d1
@agentic-sdlc/test-utils:build: cache hit, replaying logs 9195ba5d4721d035
@agentic-sdlc/test-utils:build: 
@agentic-sdlc/test-utils:build: > @agentic-sdlc/test-utils@1.0.0 build /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/shared/test-utils
@agentic-sdlc/test-utils:build: > tsc
@agentic-sdlc/test-utils:build: 
@agentic-sdlc/contracts:build: cache hit, replaying logs a579a0bc5a419e8e
@agentic-sdlc/contracts:build: 
@agentic-sdlc/contracts:build: > @agentic-sdlc/contracts@1.0.0 build /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/shared/contracts
@agentic-sdlc/contracts:build: > tsc
@agentic-sdlc/contracts:build: 
@agentic-sdlc/orchestrator:test: cache miss, executing 6f4c8821bd006bc6
@agentic-sdlc/orchestrator:build: cache hit, replaying logs ac5e6b89ebf37c07
@agentic-sdlc/orchestrator:build: 
@agentic-sdlc/orchestrator:build: > @agentic-sdlc/orchestrator@0.1.0 build /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/orchestrator
@agentic-sdlc/orchestrator:build: > tsc
@agentic-sdlc/orchestrator:build: 
@agentic-sdlc/base-agent:test: cache miss, executing 6b612a933e6e0fb5
@agentic-sdlc/base-agent:build: cache hit, replaying logs 228b82162d804760
@agentic-sdlc/base-agent:build: 
@agentic-sdlc/base-agent:build: > @agentic-sdlc/base-agent@0.1.0 build /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/base-agent
@agentic-sdlc/base-agent:build: > tsc
@agentic-sdlc/base-agent:build: 
@agentic-sdlc/integration-agent:test: cache miss, executing 211c1f0c1ebf2953
@agentic-sdlc/e2e-agent:test: cache miss, executing e161b7fd4e119330
@agentic-sdlc/validation-agent:test: cache miss, executing 40d274347172748b
@agentic-sdlc/scaffold-agent:test: cache miss, executing 220729c8c7d308b8
@agentic-sdlc/deployment-agent:test: cache miss, executing 370458eab51ee81b
@agentic-sdlc/ops:test: 
@agentic-sdlc/ops:test: > @agentic-sdlc/ops@1.0.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/ops/agentic
@agentic-sdlc/ops:test: > vitest run
@agentic-sdlc/ops:test: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: > @agentic-sdlc/orchestrator@0.1.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/orchestrator
@agentic-sdlc/orchestrator:test: > vitest
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/contracts:test: 
@agentic-sdlc/contracts:test: > @agentic-sdlc/contracts@1.0.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/shared/contracts
@agentic-sdlc/contracts:test: > vitest run
@agentic-sdlc/contracts:test: 
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/validation-agent:test: > @agentic-sdlc/validation-agent@0.1.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/validation-agent
@agentic-sdlc/validation-agent:test: > vitest
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/e2e-agent:test: 
@agentic-sdlc/e2e-agent:test: > @agentic-sdlc/e2e-agent@0.1.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/e2e-agent
@agentic-sdlc/e2e-agent:test: > vitest
@agentic-sdlc/e2e-agent:test: 
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test: > @agentic-sdlc/integration-agent@0.1.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent
@agentic-sdlc/integration-agent:test: > vitest
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: > @agentic-sdlc/base-agent@0.1.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/base-agent
@agentic-sdlc/base-agent:test: > vitest
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test: > @agentic-sdlc/deployment-agent@0.1.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/deployment-agent
@agentic-sdlc/deployment-agent:test: > vitest
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: > @agentic-sdlc/scaffold-agent@0.1.0 test /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/scaffold-agent
@agentic-sdlc/scaffold-agent:test: > vitest
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/orchestrator:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/contracts:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/contracts:test: 
@agentic-sdlc/contracts:test:  RUN  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/shared/contracts
@agentic-sdlc/contracts:test: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  DEV  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/orchestrator
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/ops:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/ops:test: 
@agentic-sdlc/ops:test:  RUN  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/ops/agentic
@agentic-sdlc/ops:test: 
@agentic-sdlc/e2e-agent:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/e2e-agent:test: 
@agentic-sdlc/e2e-agent:test:  DEV  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/e2e-agent
@agentic-sdlc/e2e-agent:test: 
@agentic-sdlc/contracts:test:  âœ“ src/__tests__/contract-validator.test.ts  (19 tests) 6ms
@agentic-sdlc/contracts:test:  âœ“ src/__tests__/version-validator.test.ts  (25 tests) 7ms
@agentic-sdlc/validation-agent:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/validation-agent:test:  DEV  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/validation-agent
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/contracts:test:  âœ“ src/__tests__/scaffold.contract.test.ts  (7 tests) 20ms
@agentic-sdlc/integration-agent:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/orchestrator:test:  âœ“ tests/services/decision-gate.service.test.ts  (44 tests) 8ms
@agentic-sdlc/orchestrator:test:  â¯ tests/e2e/five-agent-pipeline.test.ts  (0 test)
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.455Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/contracts:test: 
@agentic-sdlc/contracts:test:  Test Files  3 passed (3)
@agentic-sdlc/contracts:test:       Tests  51 passed (51)
@agentic-sdlc/contracts:test:    Start at  08:44:20
@agentic-sdlc/contracts:test:    Duration  887ms (transform 234ms, setup 0ms, collect 586ms, tests 33ms, environment 0ms, prepare 364ms)
@agentic-sdlc/contracts:test: 
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.456Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.464Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.464Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/orchestrator:test:  âœ“ tests/services/quality-gate.service.test.ts  (33 tests) 7ms
@agentic-sdlc/orchestrator:test:  â¯ src/services/workflow.service.test.ts  (11 tests | 11 failed) 16ms
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Exactly-Once Semantics - Phase 3.1 Synthetic Duplicate Load Test > should process only 1 event from 3x Redis deliveries of same task
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Exactly-Once Semantics - Phase 3.1 Synthetic Duplicate Load Test > should generate same eventId for same task input values
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Exactly-Once Semantics - Phase 3.1 Synthetic Duplicate Load Test > should generate different eventId for different inputs
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Defensive Transition Gate - Phase 3.2 Stage Mismatch Detection > should detect stage mismatch and reject transition
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Defensive Transition Gate - Phase 3.2 Stage Mismatch Detection > should allow transition when stages match
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Distributed Locking - Phase 3.3 Per-Task Serial Execution > should allow only one handler to execute per task via distributed lock
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Compare-And-Swap - Phase 3.4 Atomic Stage Updates > should prevent overwriting newer stage values via CAS
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Compare-And-Swap - Phase 3.4 Atomic Stage Updates > should increment version field on successful CAS
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Truth Table Logging - Phase 3.5 Diagnostic Output > should generate comprehensive truth table log entry
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Truth Table Logging - Phase 3.5 Diagnostic Output > should mark CRITICAL severity when stage mismatch detected
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Integration - Phase 3.6 Full Exactly-Once Workflow > should handle complete task completion with all defensive mechanisms
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/ops:test:  âœ“ core/clarify.test.ts  (23 tests) 17ms
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test:  DEV  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/deployment-agent:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test:  DEV  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/deployment-agent
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.686Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.686Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/scaffold-agent:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/e2e-agent:test:  âœ“ src/__tests__/utils/report-generator.test.ts  (7 tests) 11ms
@agentic-sdlc/base-agent:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  DEV  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/base-agent
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  DEV  v1.6.1 /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/scaffold-agent
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/ops:test:  âœ“ core/decisions.test.ts  (19 tests) 330ms
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.807Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.814Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.814Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/e2e-agent:test:  âœ“ src/__tests__/generators/page-object-generator.test.ts  (8 tests) 5ms
@agentic-sdlc/e2e-agent:test: {"level":30,"time":1763127861902,"pid":31057,"hostname":"Mac.lan","name":"test-generator","msg":"Generated test files"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.909Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.909Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:21.909Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/e2e-agent:test: {"level":30,"time":1763127861910,"pid":31057,"hostname":"Mac.lan","name":"test-generator","msg":"Generated test files"}
@agentic-sdlc/e2e-agent:test: {"level":30,"time":1763127861910,"pid":31057,"hostname":"Mac.lan","name":"test-generator","msg":"Generated test files"}
@agentic-sdlc/e2e-agent:test:  âœ“ src/__tests__/generators/test-generator.test.ts  (8 tests) 10ms
@agentic-sdlc/ops:test: 
@agentic-sdlc/ops:test:  Test Files  2 passed (2)
@agentic-sdlc/ops:test:       Tests  42 passed (42)
@agentic-sdlc/ops:test:    Start at  08:44:20
@agentic-sdlc/ops:test:    Duration  1.18s (transform 272ms, setup 0ms, collect 512ms, tests 347ms, environment 0ms, prepare 160ms)
@agentic-sdlc/ops:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/e2e/three-agent-pipeline.test.ts  (0 test)
@agentic-sdlc/orchestrator:test:  â†“ src/__tests__/services/pipeline-executor.service.test.ts  (13 tests | 13 skipped)
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.015Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Failed to verify GitHub webhook signature"}
@agentic-sdlc/orchestrator:test:  âœ“ src/__tests__/integrations/github-actions.integration.test.ts  (18 tests) 5ms
@agentic-sdlc/orchestrator:test:  â¯ tests/e2e/scaffold-happy-path.test.ts  (0 test)
@agentic-sdlc/validation-agent:test:  âœ“ src/__tests__/utils/report-generator.test.ts  (6 tests) 3ms
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.061Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.061Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/validation-agent:test:  âœ“ src/__tests__/validators/quality-gates.test.ts  (6 tests) 3ms
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.162Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.162Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/integration-agent:test:  âœ“ src/__tests__/services/conflict-resolver.service.test.ts  (11 tests) 3ms
@agentic-sdlc/integration-agent:test:  âœ“ src/__tests__/services/git.service.test.ts  (18 tests) 13ms
@agentic-sdlc/e2e-agent:test:  âœ“ src/__tests__/e2e-agent.test.ts  (8 tests) 23ms
@agentic-sdlc/e2e-agent:test: [2025-11-14 13:44:22] [31mERROR[39m (e2e-50eb70ef/31057): [36mInvalid task context[39m
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.265Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.265Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/validation-agent:test:  âœ“ src/__tests__/utils/policy-loader.test.ts  (7 tests) 65ms
@agentic-sdlc/orchestrator:test:  â¯ tests/e2e/full-workflow.test.ts  (14 tests) 26ms
@agentic-sdlc/e2e-agent:test: 
@agentic-sdlc/e2e-agent:test:  Test Files  4 passed (4)
@agentic-sdlc/e2e-agent:test:       Tests  31 passed (31)
@agentic-sdlc/e2e-agent:test:    Start at  08:44:21
@agentic-sdlc/e2e-agent:test:    Duration  1.11s (transform 447ms, setup 0ms, collect 1.63s, tests 49ms, environment 0ms, prepare 454ms)
@agentic-sdlc/e2e-agent:test: 
@agentic-sdlc/e2e-agent:test: 
@agentic-sdlc/e2e-agent:test:  PASS  Waiting for file changes...
@agentic-sdlc/e2e-agent:test:        press h to show help, press q to quit
@agentic-sdlc/orchestrator:test:  âœ“ tests/repositories/workflow.repository.test.ts  (13 tests) 10ms
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.364Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Database health check failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.366Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.366Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/orchestrator:test:  â¯ tests/services/health-check.service.test.ts  (17 tests | 4 failed) 26ms
@agentic-sdlc/orchestrator:test:    â¯ tests/services/health-check.service.test.ts > HealthCheckService > checkReadiness > should return healthy when all components are healthy
@agentic-sdlc/orchestrator:test:      â†’ expected 'degraded' to be 'healthy' // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ tests/services/health-check.service.test.ts > HealthCheckService > checkReadiness > should return degraded when no agents are registered
@agentic-sdlc/orchestrator:test:      â†’ expected 'Agent health check temporarily disablâ€¦' to contain '0 agent(s) registered'
@agentic-sdlc/orchestrator:test:    â¯ tests/services/health-check.service.test.ts > HealthCheckService > agents health check > should include agent count in message
@agentic-sdlc/orchestrator:test:      â†’ expected 'Agent health check temporarily disablâ€¦' to contain '2 agent(s) registered'
@agentic-sdlc/orchestrator:test:    â¯ tests/services/health-check.service.test.ts > HealthCheckService > agents health check > should include agent list in details
@agentic-sdlc/orchestrator:test:      â†’ expected undefined to deeply equal [ { agent_id: 'agent-1', â€¦(1) }, â€¦(1) ]
@agentic-sdlc/scaffold-agent:test: stderr | tests/template-engine.test.ts > TemplateEngine > Error handling > should throw error for missing template
@agentic-sdlc/scaffold-agent:test: Template not found: non-existent-template. Available templates in /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/scaffold-agent/templates
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: stderr | tests/template-engine.test.ts > TemplateEngine > Cache management > should clear cache
@agentic-sdlc/scaffold-agent:test: Template not found: to-clear. Available templates in /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/scaffold-agent/templates
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  âœ“ tests/template-engine.test.ts  (18 tests) 19ms
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-b9e53750/31071): [36mExecuting integration task[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-b9e53750/31071): [36mStarting branch merge[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [31mERROR[39m (integration-b9e53750/31071): [36mMerge failed, rolling back[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-b9e53750/31071): [36mIntegration task completed[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [31mERROR[39m (integration-b9e53750/31071): [36mIntegration task failed[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-e6d96e24/31071): [36mExecuting integration task[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-e6d96e24/31071): [36mResolving conflicts[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [31mERROR[39m (integration-e6d96e24/31071): [36mFailed to resolve conflict[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-e6d96e24/31071): [36mIntegration task completed[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [31mERROR[39m (integration-e6d96e24/31071): [36mIntegration task failed[39m
@agentic-sdlc/integration-agent:test:  â¯ src/__tests__/integration-agent.test.ts  (6 tests | 4 failed) 89ms
@agentic-sdlc/integration-agent:test:    â¯ src/__tests__/integration-agent.test.ts > IntegrationAgent > executeTask > should handle merge_branch task successfully
@agentic-sdlc/integration-agent:test:      â†’ [
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "string",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "agent_id"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "boolean",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "success"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "received": "completed",
@agentic-sdlc/integration-agent:test:     "code": "invalid_enum_value",
@agentic-sdlc/integration-agent:test:     "options": [
@agentic-sdlc/integration-agent:test:       "pending",
@agentic-sdlc/integration-agent:test:       "queued",
@agentic-sdlc/integration-agent:test:       "running",
@agentic-sdlc/integration-agent:test:       "success",
@agentic-sdlc/integration-agent:test:       "failed",
@agentic-sdlc/integration-agent:test:       "timeout",
@agentic-sdlc/integration-agent:test:       "cancelled",
@agentic-sdlc/integration-agent:test:       "retrying"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "status"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid enum value. Expected 'pending' | 'queued' | 'running' | 'success' | 'failed' | 'timeout' | 'cancelled' | 'retrying', received 'completed'"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "object",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "metrics"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_literal",
@agentic-sdlc/integration-agent:test:     "expected": "1.0.0",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "version"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid literal value, expected \"1.0.0\""
@agentic-sdlc/integration-agent:test:   }
@agentic-sdlc/integration-agent:test: ]
@agentic-sdlc/integration-agent:test:    â¯ src/__tests__/integration-agent.test.ts > IntegrationAgent > executeTask > should handle resolve_conflict task successfully
@agentic-sdlc/integration-agent:test:      â†’ [
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "string",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "agent_id"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "boolean",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "success"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "received": "completed",
@agentic-sdlc/integration-agent:test:     "code": "invalid_enum_value",
@agentic-sdlc/integration-agent:test:     "options": [
@agentic-sdlc/integration-agent:test:       "pending",
@agentic-sdlc/integration-agent:test:       "queued",
@agentic-sdlc/integration-agent:test:       "running",
@agentic-sdlc/integration-agent:test:       "success",
@agentic-sdlc/integration-agent:test:       "failed",
@agentic-sdlc/integration-agent:test:       "timeout",
@agentic-sdlc/integration-agent:test:       "cancelled",
@agentic-sdlc/integration-agent:test:       "retrying"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "status"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid enum value. Expected 'pending' | 'queued' | 'running' | 'success' | 'failed' | 'timeout' | 'cancelled' | 'retrying', received 'completed'"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "object",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "metrics"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_literal",
@agentic-sdlc/integration-agent:test:     "expected": "1.0.0",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "version"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid literal value, expected \"1.0.0\""
@agentic-sdlc/integration-agent:test:   }
@agentic-sdlc/integration-agent:test: ]
@agentic-sdlc/integration-agent:test:    â¯ src/__tests__/integration-agent.test.ts > IntegrationAgent > executeTask > should handle update_dependencies task successfully
@agentic-sdlc/integration-agent:test:      â†’ [
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "string",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "agent_id"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "boolean",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "success"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "received": "completed",
@agentic-sdlc/integration-agent:test:     "code": "invalid_enum_value",
@agentic-sdlc/integration-agent:test:     "options": [
@agentic-sdlc/integration-agent:test:       "pending",
@agentic-sdlc/integration-agent:test:       "queued",
@agentic-sdlc/integration-agent:test:       "running",
@agentic-sdlc/integration-agent:test:       "success",
@agentic-sdlc/integration-agent:test:       "failed",
@agentic-sdlc/integration-agent:test:       "timeout",
@agentic-sdlc/integration-agent:test:       "cancelled",
@agentic-sdlc/integration-agent:test:       "retrying"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "status"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid enum value. Expected 'pending' | 'queued' | 'running' | 'success' | 'failed' | 'timeout' | 'cancelled' | 'retrying', received 'completed'"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_union",
@agentic-sdlc/integration-agent:test:     "unionErrors": [
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "conflicts_resolved"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "conflicts_remaining"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "files_changed"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "array",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "resolved_conflicts"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "array",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "unresolved_conflicts"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "array",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "updates"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "total_tests"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "passed"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "failed"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "skipped"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "duration_ms"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       }
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "result"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid input"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "object",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "metrics"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_literal",
@agentic-sdlc/integration-agent:test:     "expected": "1.0.0",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "version"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid literal value, expected \"1.0.0\""
@agentic-sdlc/integration-agent:test:   }
@agentic-sdlc/integration-agent:test: ]
@agentic-sdlc/integration-agent:test:    â¯ src/__tests__/integration-agent.test.ts > IntegrationAgent > executeTask > should handle run_integration_tests task successfully
@agentic-sdlc/integration-agent:test:      â†’ [
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "string",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "agent_id"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "boolean",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "success"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "received": "completed",
@agentic-sdlc/integration-agent:test:     "code": "invalid_enum_value",
@agentic-sdlc/integration-agent:test:     "options": [
@agentic-sdlc/integration-agent:test:       "pending",
@agentic-sdlc/integration-agent:test:       "queued",
@agentic-sdlc/integration-agent:test:       "running",
@agentic-sdlc/integration-agent:test:       "success",
@agentic-sdlc/integration-agent:test:       "failed",
@agentic-sdlc/integration-agent:test:       "timeout",
@agentic-sdlc/integration-agent:test:       "cancelled",
@agentic-sdlc/integration-agent:test:       "retrying"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "status"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid enum value. Expected 'pending' | 'queued' | 'running' | 'success' | 'failed' | 'timeout' | 'cancelled' | 'retrying', received 'completed'"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_union",
@agentic-sdlc/integration-agent:test:     "unionErrors": [
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "object",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "object",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "object",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "object",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       }
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "result"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid input"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "object",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "metrics"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_literal",
@agentic-sdlc/integration-agent:test:     "expected": "1.0.0",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "version"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid literal value, expected \"1.0.0\""
@agentic-sdlc/integration-agent:test:   }
@agentic-sdlc/integration-agent:test: ]
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.470Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.470Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-f3bf1f0f/31071): [36mExecuting integration task[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-f3bf1f0f/31071): [36mRunning integration tests[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-f3bf1f0f/31071): [36mIntegration task completed[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [31mERROR[39m (integration-f3bf1f0f/31071): [36mIntegration task failed[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-57dab628/31071): [36mExecuting integration task[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-57dab628/31071): [36mUpdating dependencies[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-57dab628/31071): [36mIntegration task completed[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [31mERROR[39m (integration-57dab628/31071): [36mIntegration task failed[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-326dbbb1/31071): [36mCleaning up IntegrationAgent[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-326dbbb1/31071): [36mCleaning up agent[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-326dbbb1/31071): [36mDeregistered from orchestrator[39m
@agentic-sdlc/integration-agent:test: [2025-11-14 13:44:22] [32mINFO[39m (integration-326dbbb1/31071): [36mAgent cleanup completed[39m
@agentic-sdlc/scaffold-agent:test:  âœ“ tests/file-generator.test.ts  (19 tests | 5 skipped) 111ms
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯ Failed Tests 4 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test:  FAIL  src/__tests__/integration-agent.test.ts > IntegrationAgent > executeTask > should handle merge_branch task successfully
@agentic-sdlc/integration-agent:test: ZodError: [
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "string",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "agent_id"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "boolean",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "success"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "received": "completed",
@agentic-sdlc/integration-agent:test:     "code": "invalid_enum_value",
@agentic-sdlc/integration-agent:test:     "options": [
@agentic-sdlc/integration-agent:test:       "pending",
@agentic-sdlc/integration-agent:test:       "queued",
@agentic-sdlc/integration-agent:test:       "running",
@agentic-sdlc/integration-agent:test:       "success",
@agentic-sdlc/integration-agent:test:       "failed",
@agentic-sdlc/integration-agent:test:       "timeout",
@agentic-sdlc/integration-agent:test:       "cancelled",
@agentic-sdlc/integration-agent:test:       "retrying"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "status"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid enum value. Expected 'pending' | 'queued' | 'running' | 'success' | 'failed' | 'timeout' | 'cancelled' | 'retrying', received 'completed'"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "object",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "metrics"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_literal",
@agentic-sdlc/integration-agent:test:     "expected": "1.0.0",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "version"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid literal value, expected \"1.0.0\""
@agentic-sdlc/integration-agent:test:   }
@agentic-sdlc/integration-agent:test: ]
@agentic-sdlc/integration-agent:test:  â¯ Object.get error [as error] ../../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:45:31
@agentic-sdlc/integration-agent:test:  â¯ ZodObject.parse ../../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:120:22
@agentic-sdlc/integration-agent:test:  â¯ IntegrationAgent.executeTask src/integration-agent.ts:95:38
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts  (14 tests | 14 failed) 13ms
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/integration-agent:test:      93|       });
@agentic-sdlc/integration-agent:test:      94| 
@agentic-sdlc/integration-agent:test:      95|       return IntegrationResultSchema.parse({
@agentic-sdlc/integration-agent:test:        |                                      ^
@agentic-sdlc/integration-agent:test:      96|         task_id: validatedTask.task_id,
@agentic-sdlc/integration-agent:test:      97|         workflow_id: validatedTask.workflow_id,
@agentic-sdlc/integration-agent:test:  â¯ src/__tests__/integration-agent.test.ts:61:22
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/integration-agent:test: Serialized Error: { issues: [ { code: 'invalid_type', expected: 'string', received: 'undefined', path: [ 'agent_id' ], message: 'Required' }, { code: 'invalid_type', expected: 'boolean', received: 'undefined', path: [ 'success' ], message: 'Required' }, { received: 'completed', code: 'invalid_enum_value', options: [ 'pending', 'queued', 'running', 'success', 'failed', 'timeout', 'cancelled', 'retrying' ], path: [ 'status' ], message: 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' }, { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'metrics' ], message: 'Required' }, { received: undefined, code: 'invalid_literal', expected: '1.0.0', path: [ 'version' ], message: 'Invalid literal value, expected "1.0.0"' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', errors: [ { code: 'invalid_type', expected: 'string', received: 'undefined', path: [ 'agent_id' ], message: 'Required' }, { code: 'invalid_type', expected: 'boolean', received: 'undefined', path: [ 'success' ], message: 'Required' }, { received: 'completed', code: 'invalid_enum_value', options: [ 'pending', 'queued', 'running', 'success', 'failed', 'timeout', 'cancelled', 'retrying' ], path: [ 'status' ], message: 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' }, { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'metrics' ], message: 'Required' }, { received: undefined, code: 'invalid_literal', expected: '1.0.0', path: [ 'version' ], message: 'Invalid literal value, expected "1.0.0"' } ], format: 'Function<format>', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { agent_id: [ 'Required' ], success: [ 'Required' ], status: [ 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' ], metrics: [ 'Required' ], version: [ 'Invalid literal value, expected "1.0.0"' ] } } }
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/4]â¯
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test:  FAIL  src/__tests__/integration-agent.test.ts > IntegrationAgent > executeTask > should handle resolve_conflict task successfully
@agentic-sdlc/integration-agent:test: ZodError: [
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "string",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "agent_id"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "boolean",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "success"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "received": "completed",
@agentic-sdlc/integration-agent:test:     "code": "invalid_enum_value",
@agentic-sdlc/integration-agent:test:     "options": [
@agentic-sdlc/integration-agent:test:       "pending",
@agentic-sdlc/integration-agent:test:       "queued",
@agentic-sdlc/integration-agent:test:       "running",
@agentic-sdlc/integration-agent:test:       "success",
@agentic-sdlc/integration-agent:test:       "failed",
@agentic-sdlc/integration-agent:test:       "timeout",
@agentic-sdlc/integration-agent:test:       "cancelled",
@agentic-sdlc/integration-agent:test:       "retrying"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "status"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid enum value. Expected 'pending' | 'queued' | 'running' | 'success' | 'failed' | 'timeout' | 'cancelled' | 'retrying', received 'completed'"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "object",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "metrics"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_literal",
@agentic-sdlc/integration-agent:test:     "expected": "1.0.0",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "version"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid literal value, expected \"1.0.0\""
@agentic-sdlc/integration-agent:test:   }
@agentic-sdlc/integration-agent:test: ]
@agentic-sdlc/integration-agent:test:  â¯ Object.get error [as error] ../../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:45:31
@agentic-sdlc/integration-agent:test:  â¯ ZodObject.parse ../../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:120:22
@agentic-sdlc/integration-agent:test:  â¯ IntegrationAgent.executeTask src/integration-agent.ts:95:38
@agentic-sdlc/integration-agent:test:      93|       });
@agentic-sdlc/integration-agent:test:      94| 
@agentic-sdlc/integration-agent:test:      95|       return IntegrationResultSchema.parse({
@agentic-sdlc/integration-agent:test:        |                                      ^
@agentic-sdlc/integration-agent:test:      96|         task_id: validatedTask.task_id,
@agentic-sdlc/integration-agent:test:      97|         workflow_id: validatedTask.workflow_id,
@agentic-sdlc/integration-agent:test:  â¯ src/__tests__/integration-agent.test.ts:106:22
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/integration-agent:test: Serialized Error: { issues: [ { code: 'invalid_type', expected: 'string', received: 'undefined', path: [ 'agent_id' ], message: 'Required' }, { code: 'invalid_type', expected: 'boolean', received: 'undefined', path: [ 'success' ], message: 'Required' }, { received: 'completed', code: 'invalid_enum_value', options: [ 'pending', 'queued', 'running', 'success', 'failed', 'timeout', 'cancelled', 'retrying' ], path: [ 'status' ], message: 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' }, { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'metrics' ], message: 'Required' }, { received: undefined, code: 'invalid_literal', expected: '1.0.0', path: [ 'version' ], message: 'Invalid literal value, expected "1.0.0"' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', errors: [ { code: 'invalid_type', expected: 'string', received: 'undefined', path: [ 'agent_id' ], message: 'Required' }, { code: 'invalid_type', expected: 'boolean', received: 'undefined', path: [ 'success' ], message: 'Required' }, { received: 'completed', code: 'invalid_enum_value', options: [ 'pending', 'queued', 'running', 'success', 'failed', 'timeout', 'cancelled', 'retrying' ], path: [ 'status' ], message: 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' }, { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'metrics' ], message: 'Required' }, { received: undefined, code: 'invalid_literal', expected: '1.0.0', path: [ 'version' ], message: 'Invalid literal value, expected "1.0.0"' } ], format: 'Function<format>', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { agent_id: [ 'Required' ], success: [ 'Required' ], status: [ 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' ], metrics: [ 'Required' ], version: [ 'Invalid literal value, expected "1.0.0"' ] } } }
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/4]â¯
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test:  FAIL  src/__tests__/integration-agent.test.ts > IntegrationAgent > executeTask > should handle update_dependencies task successfully
@agentic-sdlc/integration-agent:test: ZodError: [
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "string",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "agent_id"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "boolean",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "success"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "received": "completed",
@agentic-sdlc/integration-agent:test:     "code": "invalid_enum_value",
@agentic-sdlc/integration-agent:test:     "options": [
@agentic-sdlc/integration-agent:test:       "pending",
@agentic-sdlc/integration-agent:test:       "queued",
@agentic-sdlc/integration-agent:test:       "running",
@agentic-sdlc/integration-agent:test:       "success",
@agentic-sdlc/integration-agent:test:       "failed",
@agentic-sdlc/integration-agent:test:       "timeout",
@agentic-sdlc/integration-agent:test:       "cancelled",
@agentic-sdlc/integration-agent:test:       "retrying"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "status"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid enum value. Expected 'pending' | 'queued' | 'running' | 'success' | 'failed' | 'timeout' | 'cancelled' | 'retrying', received 'completed'"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_union",
@agentic-sdlc/integration-agent:test:     "unionErrors": [
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "conflicts_resolved"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "conflicts_remaining"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "files_changed"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "array",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "resolved_conflicts"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "array",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "unresolved_conflicts"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "array",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "updates"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "total_tests"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "passed"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "failed"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "skipped"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           },
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "number",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result",
@agentic-sdlc/integration-agent:test:               "duration_ms"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       }
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "result"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid input"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "object",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "metrics"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_literal",
@agentic-sdlc/integration-agent:test:     "expected": "1.0.0",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "version"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid literal value, expected \"1.0.0\""
@agentic-sdlc/integration-agent:test:   }
@agentic-sdlc/integration-agent:test: ]
@agentic-sdlc/integration-agent:test:  â¯ Object.get error [as error] ../../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:45:31
@agentic-sdlc/integration-agent:test:  â¯ ZodObject.parse ../../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:120:22
@agentic-sdlc/integration-agent:test:  â¯ IntegrationAgent.executeTask src/integration-agent.ts:95:38
@agentic-sdlc/integration-agent:test:      93|       });
@agentic-sdlc/integration-agent:test:      94| 
@agentic-sdlc/integration-agent:test:      95|       return IntegrationResultSchema.parse({
@agentic-sdlc/integration-agent:test:        |                                      ^
@agentic-sdlc/integration-agent:test:      96|         task_id: validatedTask.task_id,
@agentic-sdlc/integration-agent:test:      97|         workflow_id: validatedTask.workflow_id,
@agentic-sdlc/integration-agent:test:  â¯ src/__tests__/integration-agent.test.ts:139:22
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/integration-agent:test: Serialized Error: { issues: [ { code: 'invalid_type', expected: 'string', received: 'undefined', path: [ 'agent_id' ], message: 'Required' }, { code: 'invalid_type', expected: 'boolean', received: 'undefined', path: [ 'success' ], message: 'Required' }, { received: 'completed', code: 'invalid_enum_value', options: [ 'pending', 'queued', 'running', 'success', 'failed', 'timeout', 'cancelled', 'retrying' ], path: [ 'status' ], message: 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' }, { code: 'invalid_union', unionErrors: [ { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "conflicts_resolved"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "conflicts_remaining"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "files_changed"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:139:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'conflicts_resolved' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'conflicts_remaining' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'files_changed' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'conflicts_resolved' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'conflicts_remaining' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'files_changed' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "conflicts_resolved"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "conflicts_remaining"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "files_changed"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required', 'Required', 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "resolved_conflicts"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "unresolved_conflicts"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:139:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'resolved_conflicts' ], message: 'Required' }, { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'unresolved_conflicts' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'resolved_conflicts' ], message: 'Required' }, { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'unresolved_conflicts' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "resolved_conflicts"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "unresolved_conflicts"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required', 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "updates"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:139:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'updates' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'updates' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "updates"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "total_tests"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "passed"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "failed"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "skipped"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "duration_ms"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:139:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'total_tests' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'passed' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'failed' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'skipped' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'duration_ms' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'total_tests' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'passed' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'failed' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'skipped' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'duration_ms' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "total_tests"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "passed"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "failed"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "skipped"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "duration_ms"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required', 'Required', 'Required', 'Required', 'Required' ] } } } ], path: [ 'result' ], message: 'Invalid input' }, { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'metrics' ], message: 'Required' }, { received: undefined, code: 'invalid_literal', expected: '1.0.0', path: [ 'version' ], message: 'Invalid literal value, expected "1.0.0"' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', errors: [ { code: 'invalid_type', expected: 'string', received: 'undefined', path: [ 'agent_id' ], message: 'Required' }, { code: 'invalid_type', expected: 'boolean', received: 'undefined', path: [ 'success' ], message: 'Required' }, { received: 'completed', code: 'invalid_enum_value', options: [ 'pending', 'queued', 'running', 'success', 'failed', 'timeout', 'cancelled', 'retrying' ], path: [ 'status' ], message: 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' }, { code: 'invalid_union', unionErrors: [ { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "conflicts_resolved"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "conflicts_remaining"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "files_changed"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:139:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'conflicts_resolved' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'conflicts_remaining' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'files_changed' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'conflicts_resolved' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'conflicts_remaining' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'files_changed' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "conflicts_resolved"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "conflicts_remaining"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "files_changed"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required', 'Required', 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "resolved_conflicts"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "unresolved_conflicts"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:139:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'resolved_conflicts' ], message: 'Required' }, { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'unresolved_conflicts' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'resolved_conflicts' ], message: 'Required' }, { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'unresolved_conflicts' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "resolved_conflicts"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "unresolved_conflicts"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required', 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "updates"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:139:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'updates' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'array', received: 'undefined', path: [ 'result', 'updates' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "array",\n    "received": "undefined",\n    "path": [\n      "result",\n      "updates"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "total_tests"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "passed"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "failed"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "skipped"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "duration_ms"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:139:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'total_tests' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'passed' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'failed' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'skipped' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'duration_ms' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'total_tests' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'passed' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'failed' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'skipped' ], message: 'Required' }, { code: 'invalid_type', expected: 'number', received: 'undefined', path: [ 'result', 'duration_ms' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "total_tests"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "passed"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "failed"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "skipped"\n    ],\n    "message": "Required"\n  },\n  {\n    "code": "invalid_type",\n    "expected": "number",\n    "received": "undefined",\n    "path": [\n      "result",\n      "duration_ms"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required', 'Required', 'Required', 'Required', 'Required' ] } } } ], path: [ 'result' ], message: 'Invalid input' }, { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'metrics' ], message: 'Required' }, { received: undefined, code: 'invalid_literal', expected: '1.0.0', path: [ 'version' ], message: 'Invalid literal value, expected "1.0.0"' } ], format: 'Function<format>', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { agent_id: [ 'Required' ], success: [ 'Required' ], status: [ 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' ], result: [ 'Invalid input' ], metrics: [ 'Required' ], version: [ 'Invalid literal value, expected "1.0.0"' ] } } }
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/4]â¯
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test:  FAIL  src/__tests__/integration-agent.test.ts > IntegrationAgent > executeTask > should handle run_integration_tests task successfully
@agentic-sdlc/integration-agent:test: ZodError: [
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "string",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "agent_id"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "boolean",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "success"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "received": "completed",
@agentic-sdlc/integration-agent:test:     "code": "invalid_enum_value",
@agentic-sdlc/integration-agent:test:     "options": [
@agentic-sdlc/integration-agent:test:       "pending",
@agentic-sdlc/integration-agent:test:       "queued",
@agentic-sdlc/integration-agent:test:       "running",
@agentic-sdlc/integration-agent:test:       "success",
@agentic-sdlc/integration-agent:test:       "failed",
@agentic-sdlc/integration-agent:test:       "timeout",
@agentic-sdlc/integration-agent:test:       "cancelled",
@agentic-sdlc/integration-agent:test:       "retrying"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "status"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid enum value. Expected 'pending' | 'queued' | 'running' | 'success' | 'failed' | 'timeout' | 'cancelled' | 'retrying', received 'completed'"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_union",
@agentic-sdlc/integration-agent:test:     "unionErrors": [
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "object",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "object",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "object",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       },
@agentic-sdlc/integration-agent:test:       {
@agentic-sdlc/integration-agent:test:         "issues": [
@agentic-sdlc/integration-agent:test:           {
@agentic-sdlc/integration-agent:test:             "code": "invalid_type",
@agentic-sdlc/integration-agent:test:             "expected": "object",
@agentic-sdlc/integration-agent:test:             "received": "undefined",
@agentic-sdlc/integration-agent:test:             "path": [
@agentic-sdlc/integration-agent:test:               "result"
@agentic-sdlc/integration-agent:test:             ],
@agentic-sdlc/integration-agent:test:             "message": "Required"
@agentic-sdlc/integration-agent:test:           }
@agentic-sdlc/integration-agent:test:         ],
@agentic-sdlc/integration-agent:test:         "name": "ZodError"
@agentic-sdlc/integration-agent:test:       }
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "result"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid input"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_type",
@agentic-sdlc/integration-agent:test:     "expected": "object",
@agentic-sdlc/integration-agent:test:     "received": "undefined",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "metrics"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Required"
@agentic-sdlc/integration-agent:test:   },
@agentic-sdlc/integration-agent:test:   {
@agentic-sdlc/integration-agent:test:     "code": "invalid_literal",
@agentic-sdlc/integration-agent:test:     "expected": "1.0.0",
@agentic-sdlc/integration-agent:test:     "path": [
@agentic-sdlc/integration-agent:test:       "version"
@agentic-sdlc/integration-agent:test:     ],
@agentic-sdlc/integration-agent:test:     "message": "Invalid literal value, expected \"1.0.0\""
@agentic-sdlc/integration-agent:test:   }
@agentic-sdlc/integration-agent:test: ]
@agentic-sdlc/integration-agent:test:  â¯ Object.get error [as error] ../../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:45:31
@agentic-sdlc/integration-agent:test:  â¯ ZodObject.parse ../../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:120:22
@agentic-sdlc/integration-agent:test:  â¯ IntegrationAgent.executeTask src/integration-agent.ts:95:38
@agentic-sdlc/integration-agent:test:      93|       });
@agentic-sdlc/integration-agent:test:      94| 
@agentic-sdlc/integration-agent:test:      95|       return IntegrationResultSchema.parse({
@agentic-sdlc/integration-agent:test:        |                                      ^
@agentic-sdlc/integration-agent:test:      96|         task_id: validatedTask.task_id,
@agentic-sdlc/integration-agent:test:      97|         workflow_id: validatedTask.workflow_id,
@agentic-sdlc/integration-agent:test:  â¯ src/__tests__/integration-agent.test.ts:170:22
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/integration-agent:test: Serialized Error: { issues: [ { code: 'invalid_type', expected: 'string', received: 'undefined', path: [ 'agent_id' ], message: 'Required' }, { code: 'invalid_type', expected: 'boolean', received: 'undefined', path: [ 'success' ], message: 'Required' }, { received: 'completed', code: 'invalid_enum_value', options: [ 'pending', 'queued', 'running', 'success', 'failed', 'timeout', 'cancelled', 'retrying' ], path: [ 'status' ], message: 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' }, { code: 'invalid_union', unionErrors: [ { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:170:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:170:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:170:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:170:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } } ], path: [ 'result' ], message: 'Invalid input' }, { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'metrics' ], message: 'Required' }, { received: undefined, code: 'invalid_literal', expected: '1.0.0', path: [ 'version' ], message: 'Invalid literal value, expected "1.0.0"' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', errors: [ { code: 'invalid_type', expected: 'string', received: 'undefined', path: [ 'agent_id' ], message: 'Required' }, { code: 'invalid_type', expected: 'boolean', received: 'undefined', path: [ 'success' ], message: 'Required' }, { received: 'completed', code: 'invalid_enum_value', options: [ 'pending', 'queued', 'running', 'success', 'failed', 'timeout', 'cancelled', 'retrying' ], path: [ 'status' ], message: 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' }, { code: 'invalid_union', unionErrors: [ { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:170:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:170:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:170:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } }, { stack: 'ZodError: [\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:56\n    at Array.map (<anonymous>)\n    at ZodUnion._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:2367:40)\n    at ZodObject._parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:1983:37)\n    at ZodObject._parseSync (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:106:29)\n    at ZodObject.safeParse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:135:29)\n    at ZodObject.parse (/Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.cjs:117:29)\n    at IntegrationAgent.executeTask (/Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/integration-agent.ts:95:38)\n    at /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/agents/integration-agent/src/__tests__/integration-agent.test.ts:170:22\n    at runTest (file:///Users/Greg/Projects/apps/zyp/agent-sdlc/node_modules/.pnpm/@vitest+runner@1.6.1/node_modules/@vitest/runner/dist/index.js:781:11)', issues: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], addIssue: 'Function<anonymous>', addIssues: 'Function<anonymous>', name: 'ZodError', constructor: 'Function<ZodError>', errors: [ { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'result' ], message: 'Required' } ], format: 'Function<format>', toString: 'Function<toString>', message: '[\n  {\n    "code": "invalid_type",\n    "expected": "object",\n    "received": "undefined",\n    "path": [\n      "result"\n    ],\n    "message": "Required"\n  }\n]', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { result: [ 'Required' ] } } } ], path: [ 'result' ], message: 'Invalid input' }, { code: 'invalid_type', expected: 'object', received: 'undefined', path: [ 'metrics' ], message: 'Required' }, { received: undefined, code: 'invalid_literal', expected: '1.0.0', path: [ 'version' ], message: 'Invalid literal value, expected "1.0.0"' } ], format: 'Function<format>', isEmpty: false, flatten: 'Function<flatten>', formErrors: { formErrors: [], fieldErrors: { agent_id: [ 'Required' ], success: [ 'Required' ], status: [ 'Invalid enum value. Expected \'pending\' | \'queued\' | \'running\' | \'success\' | \'failed\' | \'timeout\' | \'cancelled\' | \'retrying\', received \'completed\'' ], result: [ 'Invalid input' ], metrics: [ 'Required' ], version: [ 'Invalid literal value, expected "1.0.0"' ] } } }
@agentic-sdlc/integration-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/4]â¯
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test:  Test Files  1 failed | 2 passed (3)
@agentic-sdlc/integration-agent:test:       Tests  4 failed | 31 passed (35)
@agentic-sdlc/integration-agent:test:    Start at  08:44:21
@agentic-sdlc/integration-agent:test:    Duration  938ms (transform 228ms, setup 0ms, collect 472ms, tests 105ms, environment 0ms, prepare 1.02s)
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test: 
@agentic-sdlc/integration-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/integration-agent:test:        press h to show help, press q to quit
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 14 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:  â¯ new BaseAgent ../base-agent/src/base-agent.ts:52:13
@agentic-sdlc/scaffold-agent:test:  â¯ new ScaffoldAgent src/scaffold-agent.ts:28:5
@agentic-sdlc/scaffold-agent:test:      26| 
@agentic-sdlc/scaffold-agent:test:      27|   constructor(messageBus: any) {
@agentic-sdlc/scaffold-agent:test:      28|     super(
@agentic-sdlc/scaffold-agent:test:        |     ^
@agentic-sdlc/scaffold-agent:test:      29|       {
@agentic-sdlc/scaffold-agent:test:      30|         // SESSION #37: Use constants for agent type
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts:17:13
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/14]â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  Test Files  1 failed | 2 passed (3)
@agentic-sdlc/scaffold-agent:test:       Tests  14 failed | 32 passed | 5 skipped (51)
@agentic-sdlc/scaffold-agent:test:    Start at  08:44:21
@agentic-sdlc/scaffold-agent:test:    Duration  730ms (transform 168ms, setup 0ms, collect 577ms, tests 143ms, environment 0ms, prepare 521ms)
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/scaffold-agent:test:        press h to show help, press q to quit
@agentic-sdlc/orchestrator:test:  âœ“ src/__tests__/services/quality-gate.service.test.ts  (14 tests) 10ms
@agentic-sdlc/validation-agent:test:  â¯ src/__tests__/validation-agent.test.ts  (9 tests | 9 failed) 6ms
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > constructor > should initialize with correct capabilities
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should execute validation task successfully
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should run only specified validation types
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should return failure status when validation fails
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should return partial status when warnings present
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should throw error for invalid context
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should use custom coverage threshold from context
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should include next_stage in successful results
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:    â¯ src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should not include next_stage in failed results
@agentic-sdlc/validation-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/validation-agent:test: â¯â¯â¯â¯â¯â¯â¯ Failed Tests 9 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > constructor > should initialize with correct capabilities
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should execute validation task successfully
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should run only specified validation types
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should return failure status when validation fails
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should return partial status when warnings present
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should throw error for invalid context
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should use custom coverage threshold from context
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should include next_stage in successful results
@agentic-sdlc/validation-agent:test:  FAIL  src/__tests__/validation-agent.test.ts > ValidationAgent > execute > should not include next_stage in failed results
@agentic-sdlc/validation-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/validation-agent:test:  â¯ new BaseAgent ../base-agent/src/base-agent.ts:52:13
@agentic-sdlc/validation-agent:test:  â¯ new ValidationAgent src/validation-agent.ts:28:5
@agentic-sdlc/validation-agent:test:      26| 
@agentic-sdlc/validation-agent:test:      27|   constructor(messageBus: any) {
@agentic-sdlc/validation-agent:test:      28|     super(
@agentic-sdlc/validation-agent:test:        |     ^
@agentic-sdlc/validation-agent:test:      29|       {
@agentic-sdlc/validation-agent:test:      30|         type: 'validation',
@agentic-sdlc/validation-agent:test:  â¯ src/__tests__/validation-agent.test.ts:61:13
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/validation-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.572Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.572Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/validation-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/validation-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/validation-agent:test:  Test Files  1 failed | 3 passed (4)
@agentic-sdlc/validation-agent:test:       Tests  9 failed | 19 passed (28)
@agentic-sdlc/validation-agent:test:    Start at  08:44:21
@agentic-sdlc/validation-agent:test:    Duration  1.15s (transform 775ms, setup 0ms, collect 1.62s, tests 77ms, environment 0ms, prepare 859ms)
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/validation-agent:test: 
@agentic-sdlc/validation-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/validation-agent:test:        press h to show help, press q to quit
@agentic-sdlc/base-agent:test:  â¯ tests/base-agent.test.ts  (12 tests | 12 failed) 22ms
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > initialization > should initialize successfully with valid config
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > initialization > should throw error if ANTHROPIC_API_KEY is not set
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task validation > should validate valid task assignment
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task validation > should throw ValidationError for invalid task
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task execution > should execute task successfully
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > result reporting > should report result to orchestrator
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > health check > should return healthy status
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > retry logic > should retry failed operations
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > retry logic > should throw after max retries
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > Claude integration > should call Claude API successfully
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > Claude integration > should handle Claude API errors
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > cleanup > should cleanup resources properly
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 12 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > initialization > should initialize successfully with valid config
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > initialization > should throw error if ANTHROPIC_API_KEY is not set
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task validation > should validate valid task assignment
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task validation > should throw ValidationError for invalid task
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task execution > should execute task successfully
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > result reporting > should report result to orchestrator
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > health check > should return healthy status
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > retry logic > should retry failed operations
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > retry logic > should throw after max retries
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > Claude integration > should call Claude API successfully
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > Claude integration > should handle Claude API errors
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > cleanup > should cleanup resources properly
@agentic-sdlc/base-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:  â¯ new BaseAgent src/base-agent.ts:52:13
@agentic-sdlc/base-agent:test:      50|     // Phase 3: Validate messageBus
@agentic-sdlc/base-agent:test:      51|     if (!messageBus) {
@agentic-sdlc/base-agent:test:      52|       throw new AgentError('messageBus is required for Phase 3 messageâ€¦
@agentic-sdlc/base-agent:test:        |             ^
@agentic-sdlc/base-agent:test:      53|     }
@agentic-sdlc/base-agent:test:      54| 
@agentic-sdlc/base-agent:test:  â¯ new TestAgent tests/base-agent.test.ts:37:5
@agentic-sdlc/base-agent:test:  â¯ tests/base-agent.test.ts:92:13
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/base-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/12]â¯
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/base-agent:test:       Tests  12 failed (12)
@agentic-sdlc/base-agent:test:    Start at  08:44:21
@agentic-sdlc/base-agent:test:    Duration  799ms (transform 73ms, setup 0ms, collect 305ms, tests 22ms, environment 0ms, prepare 135ms)
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/base-agent:test:        press h to show help, press q to quit
@agentic-sdlc/orchestrator:test:  â¯ tests/services/workflow.service.test.ts  (10 tests | 10 failed) 10ms
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > createWorkflow > should successfully create a workflow
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > createWorkflow > should handle errors during workflow creation
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > getWorkflow > should return workflow when found
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > getWorkflow > should return null when workflow not found
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > listWorkflows > should return list of workflows
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > listWorkflows > should filter workflows by status
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > cancelWorkflow > should cancel an existing workflow
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > cancelWorkflow > should throw error when workflow not found
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > retryWorkflow > should retry a failed workflow
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:    â¯ tests/services/workflow.service.test.ts > WorkflowService > retryWorkflow > should retry from specific stage
@agentic-sdlc/orchestrator:test:      â†’ [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.623Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.623Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/deployment-agent:test:  â¯ src/__tests__/deployment-agent.test.ts  (6 tests | 6 failed) 5ms
@agentic-sdlc/deployment-agent:test:    â¯ src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should handle build_docker_image task successfully
@agentic-sdlc/deployment-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/deployment-agent:test:    â¯ src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should handle push_to_ecr task successfully
@agentic-sdlc/deployment-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/deployment-agent:test:    â¯ src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should handle health_check task successfully
@agentic-sdlc/deployment-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/deployment-agent:test:    â¯ src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should handle rollback_deployment task successfully
@agentic-sdlc/deployment-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/deployment-agent:test:    â¯ src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should throw error for unknown action
@agentic-sdlc/deployment-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/deployment-agent:test:    â¯ src/__tests__/deployment-agent.test.ts > DeploymentAgent > cleanup > should cleanup resources
@agentic-sdlc/deployment-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/orchestrator:test:  âœ“ tests/api/routes/health.routes.test.ts  (7 tests) 40ms
@agentic-sdlc/orchestrator:test:  â¯ tests/api/workflow.routes.test.ts  (13 tests | 4 failed) 227ms
@agentic-sdlc/orchestrator:test:    â¯ tests/api/workflow.routes.test.ts > Workflow API Routes > POST /api/v1/workflows > should create a new workflow
@agentic-sdlc/orchestrator:test:      â†’ expected 400 to be 200 // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ tests/api/workflow.routes.test.ts > Workflow API Routes > POST /api/v1/workflows > should handle service errors
@agentic-sdlc/orchestrator:test:      â†’ expected 400 to be 500 // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ tests/api/workflow.routes.test.ts > Workflow API Routes > GET /api/v1/workflows/:id > should return workflow when found
@agentic-sdlc/orchestrator:test:      â†’ expected 500 to be 200 // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ tests/api/workflow.routes.test.ts > Workflow API Routes > GET /api/v1/workflows > should list all workflows
@agentic-sdlc/orchestrator:test:      â†’ expected 500 to be 200 // Object.is equality
@agentic-sdlc/orchestrator:test:  âœ“ src/utils/stages.test.ts  (30 tests) 5ms
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.724Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Stage execution failed"}
@agentic-sdlc/orchestrator:test: {"level":"error","timestamp":"2025-11-14T13:44:22.724Z","pid":31012,"hostname":"Mac.lan","name":"orchestrator","msg":"Pipeline execution failed"}
@agentic-sdlc/orchestrator:test:  â¯ tests/services/pipeline-executor.service.test.ts  (30 tests | 7 failed) 1274ms
@agentic-sdlc/orchestrator:test:    â¯ tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Sequential Execution > should stop execution on stage failure when continue_on_failure is false
@agentic-sdlc/orchestrator:test:      â†’ expected "spy" to be called 1 times, but got 0 times
@agentic-sdlc/orchestrator:test:    â¯ tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Sequential Execution > should continue execution on stage failure when continue_on_failure is true
@agentic-sdlc/orchestrator:test:      â†’ expected "spy" to be called 2 times, but got 0 times
@agentic-sdlc/orchestrator:test:    â¯ tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Parallel Execution > should execute independent stages in parallel
@agentic-sdlc/orchestrator:test:      â†’ expected "spy" to be called 2 times, but got 0 times
@agentic-sdlc/orchestrator:test:    â¯ tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Parallel Execution > should respect dependencies in parallel mode
@agentic-sdlc/orchestrator:test:      â†’ expected -1 to be less than -1
@agentic-sdlc/orchestrator:test:    â¯ tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Quality Gates > should evaluate quality gates for each stage
@agentic-sdlc/orchestrator:test:      â†’ expected "spy" to be called at least once
@agentic-sdlc/orchestrator:test:    â¯ tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Quality Gates > should pass stage when non-blocking quality gate fails
@agentic-sdlc/orchestrator:test:      â†’ expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: Received: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   1st spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "stage_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "910a455d-be20-4cad-be55-5c3c37301620",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "event_type": "execution_started",
@agentic-sdlc/orchestrator:test: +       "execution_id": "3f1ade08-8be3-4416-96f9-d9c047b95b71",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": undefined,
@agentic-sdlc/orchestrator:test: +       "status": "queued",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.366Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "251884f2-afed-474b-b9d8-d03bb22294e7",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   2nd spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "stage_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "d12befe5-28e9-4f71-a2ef-b87cdd8ba294",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "event_type": "stage_started",
@agentic-sdlc/orchestrator:test: +       "execution_id": "3f1ade08-8be3-4416-96f9-d9c047b95b71",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "running",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.366Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "dd2539ac-97b6-42da-8962-59225db8a2b9",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   3rd spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "stage_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "14636f8a-9d56-4a1e-ae02-7d825005da58",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "error": Object {
@agentic-sdlc/orchestrator:test: +         "code": "STAGE_EXECUTION_ERROR",
@agentic-sdlc/orchestrator:test: +         "message": "[PHASE-2] Pipeline executor not yet refactored to use message bus architecture. This feature will be reimplemented in a future phase.",
@agentic-sdlc/orchestrator:test: +         "recoverable": false,
@agentic-sdlc/orchestrator:test: +       },
@agentic-sdlc/orchestrator:test: +       "event_type": "stage_failed",
@agentic-sdlc/orchestrator:test: +       "execution_id": "3f1ade08-8be3-4416-96f9-d9c047b95b71",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "running",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.366Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "084eb46f-3a97-45c7-81c4-b7c582dc6361",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   4th spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "stage_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "2bd260fe-2413-471b-b19d-1a487a7600cc",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "error": "Pipeline execution failed: Stage stage-1 failed",
@agentic-sdlc/orchestrator:test: +       "event_type": "execution_failed",
@agentic-sdlc/orchestrator:test: +       "execution_id": "3f1ade08-8be3-4416-96f9-d9c047b95b71",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "failed",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.366Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "d583f801-acd6-486d-93fe-a5e3f1369e05",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: Number of calls: 4
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:    â¯ tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Event Publishing > should publish execution_completed event when pipeline succeeds
@agentic-sdlc/orchestrator:test:      â†’ expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: Received: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   1st spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "execution_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "a301863d-6d55-42ab-8179-46e53531f285",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "event_type": "execution_started",
@agentic-sdlc/orchestrator:test: +       "execution_id": "5cff4f14-78d8-4f7e-a585-6b216ed19430",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": undefined,
@agentic-sdlc/orchestrator:test: +       "status": "queued",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.623Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "32fb4898-f263-4663-985b-576696d491e9",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   2nd spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "execution_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "dd846475-5c60-456f-ad09-66fdbc2c13c6",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "event_type": "stage_started",
@agentic-sdlc/orchestrator:test: +       "execution_id": "5cff4f14-78d8-4f7e-a585-6b216ed19430",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "running",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.623Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "34f4f45f-287d-42b1-a5dd-8bc9c1ea0127",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   3rd spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "execution_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "99bfdf78-35aa-4f76-93d2-369815559610",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "error": Object {
@agentic-sdlc/orchestrator:test: +         "code": "STAGE_EXECUTION_ERROR",
@agentic-sdlc/orchestrator:test: +         "message": "[PHASE-2] Pipeline executor not yet refactored to use message bus architecture. This feature will be reimplemented in a future phase.",
@agentic-sdlc/orchestrator:test: +         "recoverable": false,
@agentic-sdlc/orchestrator:test: +       },
@agentic-sdlc/orchestrator:test: +       "event_type": "stage_failed",
@agentic-sdlc/orchestrator:test: +       "execution_id": "5cff4f14-78d8-4f7e-a585-6b216ed19430",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "running",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.623Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "cc0b95ed-1995-424f-a9c7-ab9910124865",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   4th spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "execution_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "7abc30ba-1458-41c3-96fb-a072208f882a",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "error": "Pipeline execution failed: Stage stage-1 failed",
@agentic-sdlc/orchestrator:test: +       "event_type": "execution_failed",
@agentic-sdlc/orchestrator:test: +       "execution_id": "5cff4f14-78d8-4f7e-a585-6b216ed19430",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "failed",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.623Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "b744569e-cbc1-4dc3-861a-9c1c548d9be1",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: Number of calls: 4
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/simple-happy-path.test.ts  (4 tests | 4 failed) 17ms
@agentic-sdlc/orchestrator:test:    â¯ tests/simple-happy-path.test.ts > Milestone 1: Simple Happy Path Validation > should import and use shared types successfully
@agentic-sdlc/orchestrator:test:      â†’ expected undefined to be 'wf_1763127862728_4env0en2j' // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ tests/simple-happy-path.test.ts > Milestone 1: Simple Happy Path Validation > should validate scaffold-specific schemas
@agentic-sdlc/orchestrator:test:      â†’ expected [Function] to throw an error
@agentic-sdlc/orchestrator:test:    â¯ tests/simple-happy-path.test.ts > Milestone 1: Simple Happy Path Validation > should support type branding for IDs
@agentic-sdlc/orchestrator:test:      â†’ expected false to be true // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ tests/simple-happy-path.test.ts > Milestone 1: Simple Happy Path Validation > should handle workflow state transitions
@agentic-sdlc/orchestrator:test:      â†’ expected [Function] to throw an error
@agentic-sdlc/orchestrator:test:  âœ“ tests/services/graceful-shutdown.service.test.ts  (5 tests) 3ms
@agentic-sdlc/deployment-agent:test:  â¯ src/__tests__/services/health-check.service.test.ts  (5 tests | 1 failed) 10030ms
@agentic-sdlc/deployment-agent:test:    â¯ src/__tests__/services/health-check.service.test.ts > HealthCheckService > checkEndpoint > should return healthy for 200 status
@agentic-sdlc/deployment-agent:test:      â†’ expected 0 to be greater than 0
@agentic-sdlc/deployment-agent:test:  â¯ src/__tests__/services/ecs.service.test.ts  (7 tests | 1 failed) 10005ms
@agentic-sdlc/deployment-agent:test:    â¯ src/__tests__/services/ecs.service.test.ts > ECSService > waitForServiceStable > should throw error on timeout
@agentic-sdlc/deployment-agent:test:      â†’ Test timed out in 10000ms.
@agentic-sdlc/deployment-agent:test: If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test: â¯â¯â¯â¯â¯â¯â¯ Failed Tests 8 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test:  FAIL  src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should handle build_docker_image task successfully
@agentic-sdlc/deployment-agent:test:  FAIL  src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should handle push_to_ecr task successfully
@agentic-sdlc/deployment-agent:test:  FAIL  src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should handle health_check task successfully
@agentic-sdlc/deployment-agent:test:  FAIL  src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should handle rollback_deployment task successfully
@agentic-sdlc/deployment-agent:test:  FAIL  src/__tests__/deployment-agent.test.ts > DeploymentAgent > executeTask > should throw error for unknown action
@agentic-sdlc/deployment-agent:test:  FAIL  src/__tests__/deployment-agent.test.ts > DeploymentAgent > cleanup > should cleanup resources
@agentic-sdlc/deployment-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/deployment-agent:test:  â¯ new BaseAgent ../base-agent/src/base-agent.ts:52:13
@agentic-sdlc/deployment-agent:test:  â¯ new DeploymentAgent src/deployment-agent.ts:31:5
@agentic-sdlc/deployment-agent:test:      29| 
@agentic-sdlc/deployment-agent:test:      30|   constructor(messageBus: any) {
@agentic-sdlc/deployment-agent:test:      31|     super(
@agentic-sdlc/deployment-agent:test:        |     ^
@agentic-sdlc/deployment-agent:test:      32|       {
@agentic-sdlc/deployment-agent:test:      33|         type: 'deployment',
@agentic-sdlc/deployment-agent:test:  â¯ src/__tests__/deployment-agent.test.ts:25:13
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/deployment-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/deployment-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/8]â¯
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test:  FAIL  src/__tests__/services/ecs.service.test.ts > ECSService > waitForServiceStable > should throw error on timeout
@agentic-sdlc/deployment-agent:test: Error: Test timed out in 10000ms.
@agentic-sdlc/deployment-agent:test: If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
@agentic-sdlc/deployment-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/8]â¯
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test:  FAIL  src/__tests__/services/health-check.service.test.ts > HealthCheckService > checkEndpoint > should return healthy for 200 status
@agentic-sdlc/deployment-agent:test: AssertionError: expected 0 to be greater than 0
@agentic-sdlc/deployment-agent:test:  â¯ src/__tests__/services/health-check.service.test.ts:40:35
@agentic-sdlc/deployment-agent:test:      38|       expect(result.healthy).toBe(true);
@agentic-sdlc/deployment-agent:test:      39|       expect(result.statusCode).toBe(200);
@agentic-sdlc/deployment-agent:test:      40|       expect(result.responseTime).toBeGreaterThan(0);
@agentic-sdlc/deployment-agent:test:        |                                   ^
@agentic-sdlc/deployment-agent:test:      41|     });
@agentic-sdlc/deployment-agent:test:      42| 
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/8]â¯
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test:  Test Files  3 failed (3)
@agentic-sdlc/deployment-agent:test:       Tests  8 failed | 10 passed (18)
@agentic-sdlc/deployment-agent:test:    Start at  08:44:21
@agentic-sdlc/deployment-agent:test:    Duration  10.76s (transform 191ms, setup 0ms, collect 787ms, tests 20.04s, environment 0ms, prepare 508ms)
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test: 
@agentic-sdlc/deployment-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/deployment-agent:test:        press h to show help, press q to quit
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/smoke.test.ts  (15 tests | 6 failed) 75936ms
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Pub/Sub Messaging > should publish and receive message
@agentic-sdlc/orchestrator:test:      â†’ expected [] to have a length of 1 but got +0
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Pub/Sub Messaging > should handle multiple publish/subscribe cycles
@agentic-sdlc/orchestrator:test:      â†’ expected [] to have a length of 3 but got +0
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > KV Store Operations > should support atomic counters
@agentic-sdlc/orchestrator:test:      â†’ expected 23 to be 1 // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Error Recovery > should continue after message error
@agentic-sdlc/orchestrator:test:      â†’ expected 0 to be greater than 0
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Correlation & Tracing > should preserve correlation ID through message flow
@agentic-sdlc/orchestrator:test:      â†’ Cannot read properties of undefined (reading 'corrId')
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Resource Cleanup > should allow graceful shutdown
@agentic-sdlc/orchestrator:test:      â†’ Test timed out in 30000ms.
@agentic-sdlc/orchestrator:test: If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts  (28 tests | 11 failed) 162497ms
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Message Bus (Pub/Sub) > should publish and receive a message
@agentic-sdlc/orchestrator:test:      â†’ expected [] to have a length of 1 but got +0
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Message Bus (Pub/Sub) > should handle multiple subscribers
@agentic-sdlc/orchestrator:test:      â†’ expected [] to have a length of 1 but got +0
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Message Bus (Pub/Sub) > should handle JSON serialization
@agentic-sdlc/orchestrator:test:      â†’ Cannot read properties of undefined (reading 'nested')
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Message Bus (Pub/Sub) > should check health
@agentic-sdlc/orchestrator:test:      â†’ Test timed out in 30000ms.
@agentic-sdlc/orchestrator:test: If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > KV Store > should increment counters
@agentic-sdlc/orchestrator:test:      â†’ expected 11 to be 1 // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Envelope Format > should create envelope with defaults
@agentic-sdlc/orchestrator:test:      â†’ expected '0bb557de-c3b8-4547-b0f7-5ced0e14f1cd' to be undefined
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Envelope Format > should retry envelope with incremented attempts
@agentic-sdlc/orchestrator:test:      â†’ expected '152ea2e5-5207-46da-b0b5-c8c265b87d84' to be '28381bf0-4e15-4a28-beeb-5d3a3699b6bb' // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Envelope Format > should increment attempts on subsequent retries
@agentic-sdlc/orchestrator:test:      â†’ expected +0 to be undefined
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > End-to-End Message Flow > should complete full message cycle
@agentic-sdlc/orchestrator:test:      â†’ Cannot read properties of null (reading 'id')
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > End-to-End Message Flow > should handle message with idempotency and retry
@agentic-sdlc/orchestrator:test:      â†’ expected +0 to be 1 // Object.is equality
@agentic-sdlc/orchestrator:test:    â¯ src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Error Handling > should continue processing after handler error
@agentic-sdlc/orchestrator:test:      â†’ Test timed out in 30000ms.
@agentic-sdlc/orchestrator:test: If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯ Failed Suites 4 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/e2e/five-agent-pipeline.test.ts [ tests/e2e/five-agent-pipeline.test.ts ]
@agentic-sdlc/orchestrator:test:  FAIL  tests/e2e/three-agent-pipeline.test.ts [ tests/e2e/three-agent-pipeline.test.ts ]
@agentic-sdlc/orchestrator:test: Error: Failed to load url ../../src/services/agent-dispatcher.service (resolved id: ../../src/services/agent-dispatcher.service) in /Users/Greg/Projects/apps/zyp/agent-sdlc/packages/orchestrator/tests/e2e/five-agent-pipeline.test.ts. Does the file exist?
@agentic-sdlc/orchestrator:test:  â¯ loadAndTransform ../../node_modules/.pnpm/vite@5.4.21_@types+node@20.19.24/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/e2e/full-workflow.test.ts > End-to-End Workflow Integration
@agentic-sdlc/orchestrator:test: Error: [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:  â¯ new WorkflowService src/services/workflow.service.ts:32:13
@agentic-sdlc/orchestrator:test:      30|     // Phase 2: Validate messageBus is provided
@agentic-sdlc/orchestrator:test:      31|     if (!messageBus) {
@agentic-sdlc/orchestrator:test:      32|       throw new Error('[PHASE-2] WorkflowService requires IMessageBus â€¦
@agentic-sdlc/orchestrator:test:        |             ^
@agentic-sdlc/orchestrator:test:      33|     }
@agentic-sdlc/orchestrator:test:      34| 
@agentic-sdlc/orchestrator:test:  â¯ tests/e2e/full-workflow.test.ts:61:23
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/e2e/full-workflow.test.ts > End-to-End Workflow Integration
@agentic-sdlc/orchestrator:test: TypeError: Cannot read properties of undefined (reading 'close')
@agentic-sdlc/orchestrator:test:  â¯ tests/e2e/full-workflow.test.ts:81:15
@agentic-sdlc/orchestrator:test:      79|     }
@agentic-sdlc/orchestrator:test:      80| 
@agentic-sdlc/orchestrator:test:      81|     await app.close();
@agentic-sdlc/orchestrator:test:        |               ^
@agentic-sdlc/orchestrator:test:      82|     await redis.quit();
@agentic-sdlc/orchestrator:test:      83|     await prisma.$disconnect();
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/e2e/scaffold-happy-path.test.ts [ tests/e2e/scaffold-happy-path.test.ts ]
@agentic-sdlc/orchestrator:test: Error: Vitest cannot be imported in a CommonJS module using require(). Please use "import" instead.
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: If you are using "import" in your source code, then it's possible it was bundled into require() automatically by your bundler. In that case, do not bundle CommonJS output since it will never work with Vitest, or use dynamic import() which is available in all CommonJS modules.
@agentic-sdlc/orchestrator:test:  â¯ Object.<anonymous> ../../node_modules/.pnpm/vitest@1.6.1_@types+node@20.19.24/node_modules/vitest/index.cjs:1:7
@agentic-sdlc/orchestrator:test:  â¯ TracingChannel.traceSync node:diagnostics_channel:322:14
@agentic-sdlc/orchestrator:test:  â¯ Object.<anonymous> ../shared/test-utils/src/mocks/redis.mock.ts:1:1
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯ Failed Tests 57 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/simple-happy-path.test.ts > Milestone 1: Simple Happy Path Validation > should import and use shared types successfully
@agentic-sdlc/orchestrator:test: AssertionError: expected undefined to be 'wf_1763127862728_4env0en2j' // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected: 
@agentic-sdlc/orchestrator:test: "wf_1763127862728_4env0en2j"
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: + Received: 
@agentic-sdlc/orchestrator:test: undefined
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/simple-happy-path.test.ts:44:43
@agentic-sdlc/orchestrator:test:      42|     const validatedWorkflow = SchemaRegistry.validate('workflow', workâ€¦
@agentic-sdlc/orchestrator:test:      43|     expect(validatedWorkflow).toBeDefined();
@agentic-sdlc/orchestrator:test:      44|     expect(validatedWorkflow.workflow_id).toBe(workflow.workflow_id);
@agentic-sdlc/orchestrator:test:        |                                           ^
@agentic-sdlc/orchestrator:test:      45| 
@agentic-sdlc/orchestrator:test:      46|     const validatedTask = SchemaRegistry.validate('agent.task', task);
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/simple-happy-path.test.ts > Milestone 1: Simple Happy Path Validation > should validate scaffold-specific schemas
@agentic-sdlc/orchestrator:test: AssertionError: expected [Function] to throw an error
@agentic-sdlc/orchestrator:test:  â¯ tests/simple-happy-path.test.ts:102:8
@agentic-sdlc/orchestrator:test:     100|     expect(() => {
@agentic-sdlc/orchestrator:test:     101|       SchemaRegistry.validate('scaffold.task', invalidTask);
@agentic-sdlc/orchestrator:test:     102|     }).toThrow();
@agentic-sdlc/orchestrator:test:        |        ^
@agentic-sdlc/orchestrator:test:     103|   });
@agentic-sdlc/orchestrator:test:     104| 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/simple-happy-path.test.ts > Milestone 1: Simple Happy Path Validation > should support type branding for IDs
@agentic-sdlc/orchestrator:test: AssertionError: expected false to be true // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - true
@agentic-sdlc/orchestrator:test: + false
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/simple-happy-path.test.ts:123:32
@agentic-sdlc/orchestrator:test:     121|     // Type guards should work
@agentic-sdlc/orchestrator:test:     122|     expect(isWorkflowId(workflowId)).toBe(true);
@agentic-sdlc/orchestrator:test:     123|     expect(isAgentId(agentId)).toBe(true);
@agentic-sdlc/orchestrator:test:        |                                ^
@agentic-sdlc/orchestrator:test:     124|     expect(isTaskId(taskId)).toBe(true);
@agentic-sdlc/orchestrator:test:     125| 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/simple-happy-path.test.ts > Milestone 1: Simple Happy Path Validation > should handle workflow state transitions
@agentic-sdlc/orchestrator:test: AssertionError: expected [Function] to throw an error
@agentic-sdlc/orchestrator:test:  â¯ tests/simple-happy-path.test.ts:161:8
@agentic-sdlc/orchestrator:test:     159|     expect(() => {
@agentic-sdlc/orchestrator:test:     160|       SchemaRegistry.validate('workflow', workflow);
@agentic-sdlc/orchestrator:test:     161|     }).toThrow();
@agentic-sdlc/orchestrator:test:        |        ^
@agentic-sdlc/orchestrator:test:     162|   });
@agentic-sdlc/orchestrator:test:     163| });
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Exactly-Once Semantics - Phase 3.1 Synthetic Duplicate Load Test > should process only 1 event from 3x Redis deliveries of same task
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Exactly-Once Semantics - Phase 3.1 Synthetic Duplicate Load Test > should generate same eventId for same task input values
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Exactly-Once Semantics - Phase 3.1 Synthetic Duplicate Load Test > should generate different eventId for different inputs
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Defensive Transition Gate - Phase 3.2 Stage Mismatch Detection > should detect stage mismatch and reject transition
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Defensive Transition Gate - Phase 3.2 Stage Mismatch Detection > should allow transition when stages match
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Distributed Locking - Phase 3.3 Per-Task Serial Execution > should allow only one handler to execute per task via distributed lock
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Compare-And-Swap - Phase 3.4 Atomic Stage Updates > should prevent overwriting newer stage values via CAS
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Compare-And-Swap - Phase 3.4 Atomic Stage Updates > should increment version field on successful CAS
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Truth Table Logging - Phase 3.5 Diagnostic Output > should generate comprehensive truth table log entry
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Truth Table Logging - Phase 3.5 Diagnostic Output > should mark CRITICAL severity when stage mismatch detected
@agentic-sdlc/orchestrator:test:  FAIL  src/services/workflow.service.test.ts > WorkflowService - Phase 3 Verification Tests > Integration - Phase 3.6 Full Exactly-Once Workflow > should handle complete task completion with all defensive mechanisms
@agentic-sdlc/orchestrator:test: Error: [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:  â¯ new WorkflowService src/services/workflow.service.ts:32:13
@agentic-sdlc/orchestrator:test:      30|     // Phase 2: Validate messageBus is provided
@agentic-sdlc/orchestrator:test:      31|     if (!messageBus) {
@agentic-sdlc/orchestrator:test:      32|       throw new Error('[PHASE-2] WorkflowService requires IMessageBus â€¦
@agentic-sdlc/orchestrator:test:        |             ^
@agentic-sdlc/orchestrator:test:      33|     }
@agentic-sdlc/orchestrator:test:      34| 
@agentic-sdlc/orchestrator:test:  â¯ src/services/workflow.service.test.ts:39:23
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/api/workflow.routes.test.ts > Workflow API Routes > POST /api/v1/workflows > should create a new workflow
@agentic-sdlc/orchestrator:test: AssertionError: expected 400 to be 200 // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 200
@agentic-sdlc/orchestrator:test: + 400
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/api/workflow.routes.test.ts:47:35
@agentic-sdlc/orchestrator:test:      45|       });
@agentic-sdlc/orchestrator:test:      46| 
@agentic-sdlc/orchestrator:test:      47|       expect(response.statusCode).toBe(200);
@agentic-sdlc/orchestrator:test:        |                                   ^
@agentic-sdlc/orchestrator:test:      48|       const body = JSON.parse(response.body);
@agentic-sdlc/orchestrator:test:      49|       expect(body.workflow_id).toBe('test-workflow-id');
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/api/workflow.routes.test.ts > Workflow API Routes > POST /api/v1/workflows > should handle service errors
@agentic-sdlc/orchestrator:test: AssertionError: expected 400 to be 500 // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 500
@agentic-sdlc/orchestrator:test: + 400
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/api/workflow.routes.test.ts:88:35
@agentic-sdlc/orchestrator:test:      86|       });
@agentic-sdlc/orchestrator:test:      87| 
@agentic-sdlc/orchestrator:test:      88|       expect(response.statusCode).toBe(500);
@agentic-sdlc/orchestrator:test:        |                                   ^
@agentic-sdlc/orchestrator:test:      89|       const body = JSON.parse(response.body);
@agentic-sdlc/orchestrator:test:      90|       expect(body.error).toBe('Internal server error');
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/api/workflow.routes.test.ts > Workflow API Routes > GET /api/v1/workflows/:id > should return workflow when found
@agentic-sdlc/orchestrator:test: AssertionError: expected 500 to be 200 // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 200
@agentic-sdlc/orchestrator:test: + 500
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/api/workflow.routes.test.ts:110:35
@agentic-sdlc/orchestrator:test:     108|       });
@agentic-sdlc/orchestrator:test:     109| 
@agentic-sdlc/orchestrator:test:     110|       expect(response.statusCode).toBe(200);
@agentic-sdlc/orchestrator:test:        |                                   ^
@agentic-sdlc/orchestrator:test:     111|       const body = JSON.parse(response.body);
@agentic-sdlc/orchestrator:test:     112|       expect(body.workflow_id).toBe('test-id');
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/api/workflow.routes.test.ts > Workflow API Routes > GET /api/v1/workflows > should list all workflows
@agentic-sdlc/orchestrator:test: AssertionError: expected 500 to be 200 // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 200
@agentic-sdlc/orchestrator:test: + 500
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/api/workflow.routes.test.ts:165:35
@agentic-sdlc/orchestrator:test:     163|       });
@agentic-sdlc/orchestrator:test:     164| 
@agentic-sdlc/orchestrator:test:     165|       expect(response.statusCode).toBe(200);
@agentic-sdlc/orchestrator:test:        |                                   ^
@agentic-sdlc/orchestrator:test:     166|       const body = JSON.parse(response.body);
@agentic-sdlc/orchestrator:test:     167|       expect(body).toHaveLength(2);
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/health-check.service.test.ts > HealthCheckService > checkReadiness > should return healthy when all components are healthy
@agentic-sdlc/orchestrator:test: AssertionError: expected 'degraded' to be 'healthy' // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - healthy
@agentic-sdlc/orchestrator:test: + degraded
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/services/health-check.service.test.ts:65:29
@agentic-sdlc/orchestrator:test:      63|       const result = await healthCheckService.checkReadiness();
@agentic-sdlc/orchestrator:test:      64| 
@agentic-sdlc/orchestrator:test:      65|       expect(result.status).toBe(HealthStatus.HEALTHY);
@agentic-sdlc/orchestrator:test:        |                             ^
@agentic-sdlc/orchestrator:test:      66|       expect(result.version).toBeDefined();
@agentic-sdlc/orchestrator:test:      67|       expect(result.uptime).toBeGreaterThanOrEqual(0);
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/health-check.service.test.ts > HealthCheckService > checkReadiness > should return degraded when no agents are registered
@agentic-sdlc/orchestrator:test: AssertionError: expected 'Agent health check temporarily disablâ€¦' to contain '0 agent(s) registered'
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 0 agent(s) registered
@agentic-sdlc/orchestrator:test: + Agent health check temporarily disabled (Phase 2 migration)
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/services/health-check.service.test.ts:106:49
@agentic-sdlc/orchestrator:test:     104|       expect(result.status).toBe(HealthStatus.DEGRADED);
@agentic-sdlc/orchestrator:test:     105|       expect(result.components.agents?.status).toBe(HealthStatus.DEGRAâ€¦
@agentic-sdlc/orchestrator:test:     106|       expect(result.components.agents?.message).toContain('0 agent(s) â€¦
@agentic-sdlc/orchestrator:test:        |                                                 ^
@agentic-sdlc/orchestrator:test:     107|     });
@agentic-sdlc/orchestrator:test:     108| 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/health-check.service.test.ts > HealthCheckService > agents health check > should include agent count in message
@agentic-sdlc/orchestrator:test: AssertionError: expected 'Agent health check temporarily disablâ€¦' to contain '2 agent(s) registered'
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 2 agent(s) registered
@agentic-sdlc/orchestrator:test: + Agent health check temporarily disabled (Phase 2 migration)
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/services/health-check.service.test.ts:228:49
@agentic-sdlc/orchestrator:test:     226|       const result = await healthCheckService.checkReadiness();
@agentic-sdlc/orchestrator:test:     227| 
@agentic-sdlc/orchestrator:test:     228|       expect(result.components.agents?.message).toContain('2 agent(s) â€¦
@agentic-sdlc/orchestrator:test:        |                                                 ^
@agentic-sdlc/orchestrator:test:     229|       expect(result.components.agents?.details?.registeredAgents).toBeâ€¦
@agentic-sdlc/orchestrator:test:     230|     });
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/health-check.service.test.ts > HealthCheckService > agents health check > should include agent list in details
@agentic-sdlc/orchestrator:test: AssertionError: expected undefined to deeply equal [ { agent_id: 'agent-1', â€¦(1) }, â€¦(1) ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected: 
@agentic-sdlc/orchestrator:test: Array [
@agentic-sdlc/orchestrator:test:   Object {
@agentic-sdlc/orchestrator:test:     "agent_id": "agent-1",
@agentic-sdlc/orchestrator:test:     "type": "scaffold",
@agentic-sdlc/orchestrator:test:   },
@agentic-sdlc/orchestrator:test:   Object {
@agentic-sdlc/orchestrator:test:     "agent_id": "agent-2",
@agentic-sdlc/orchestrator:test:     "type": "validation",
@agentic-sdlc/orchestrator:test:   },
@agentic-sdlc/orchestrator:test: ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: + Received: 
@agentic-sdlc/orchestrator:test: undefined
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/services/health-check.service.test.ts:244:57
@agentic-sdlc/orchestrator:test:     242|       const result = await healthCheckService.checkReadiness();
@agentic-sdlc/orchestrator:test:     243| 
@agentic-sdlc/orchestrator:test:     244|       expect(result.components.agents?.details?.agents).toEqual(agentsâ€¦
@agentic-sdlc/orchestrator:test:        |                                                         ^
@agentic-sdlc/orchestrator:test:     245|     });
@agentic-sdlc/orchestrator:test:     246|   });
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Sequential Execution > should stop execution on stage failure when continue_on_failure is false
@agentic-sdlc/orchestrator:test: AssertionError: expected "spy" to be called 1 times, but got 0 times
@agentic-sdlc/orchestrator:test:  â¯ tests/services/pipeline-executor.service.test.ts:409:48
@agentic-sdlc/orchestrator:test:     407| 
@agentic-sdlc/orchestrator:test:     408|       // stage-2 should not be executed because stage-1 failed
@agentic-sdlc/orchestrator:test:     409|       expect(mockAgentDispatcher.dispatchTask).toHaveBeenCalledTimes(1â€¦
@agentic-sdlc/orchestrator:test:        |                                                ^
@agentic-sdlc/orchestrator:test:     410|     });
@agentic-sdlc/orchestrator:test:     411| 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Sequential Execution > should continue execution on stage failure when continue_on_failure is true
@agentic-sdlc/orchestrator:test: AssertionError: expected "spy" to be called 2 times, but got 0 times
@agentic-sdlc/orchestrator:test:  â¯ tests/services/pipeline-executor.service.test.ts:472:48
@agentic-sdlc/orchestrator:test:     470| 
@agentic-sdlc/orchestrator:test:     471|       // Both stages should be executed
@agentic-sdlc/orchestrator:test:     472|       expect(mockAgentDispatcher.dispatchTask).toHaveBeenCalledTimes(2â€¦
@agentic-sdlc/orchestrator:test:        |                                                ^
@agentic-sdlc/orchestrator:test:     473|     });
@agentic-sdlc/orchestrator:test:     474|   });
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Parallel Execution > should execute independent stages in parallel
@agentic-sdlc/orchestrator:test: AssertionError: expected "spy" to be called 2 times, but got 0 times
@agentic-sdlc/orchestrator:test:  â¯ tests/services/pipeline-executor.service.test.ts:528:48
@agentic-sdlc/orchestrator:test:     526| 
@agentic-sdlc/orchestrator:test:     527|       // Both stages should be dispatched (roughly at the same time foâ€¦
@agentic-sdlc/orchestrator:test:     528|       expect(mockAgentDispatcher.dispatchTask).toHaveBeenCalledTimes(2â€¦
@agentic-sdlc/orchestrator:test:        |                                                ^
@agentic-sdlc/orchestrator:test:     529|     });
@agentic-sdlc/orchestrator:test:     530| 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Parallel Execution > should respect dependencies in parallel mode
@agentic-sdlc/orchestrator:test: AssertionError: expected -1 to be less than -1
@agentic-sdlc/orchestrator:test:  â¯ tests/services/pipeline-executor.service.test.ts:587:49
@agentic-sdlc/orchestrator:test:     585| 
@agentic-sdlc/orchestrator:test:     586|       // stage-1 must execute before stage-2
@agentic-sdlc/orchestrator:test:     587|       expect(executionOrder.indexOf('stage-1')).toBeLessThan(executionâ€¦
@agentic-sdlc/orchestrator:test:        |                                                 ^
@agentic-sdlc/orchestrator:test:     588|     });
@agentic-sdlc/orchestrator:test:     589|   });
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[21/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Quality Gates > should evaluate quality gates for each stage
@agentic-sdlc/orchestrator:test: AssertionError: expected "spy" to be called at least once
@agentic-sdlc/orchestrator:test:  â¯ tests/services/pipeline-executor.service.test.ts:629:47
@agentic-sdlc/orchestrator:test:     627| 
@agentic-sdlc/orchestrator:test:     628|       // Quality gate evaluation should be called
@agentic-sdlc/orchestrator:test:     629|       expect(mockQualityGateService.evaluate).toHaveBeenCalled();
@agentic-sdlc/orchestrator:test:        |                                               ^
@agentic-sdlc/orchestrator:test:     630|     });
@agentic-sdlc/orchestrator:test:     631| 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[22/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Quality Gates > should pass stage when non-blocking quality gate fails
@agentic-sdlc/orchestrator:test: AssertionError: expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: Received: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   1st spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "stage_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "910a455d-be20-4cad-be55-5c3c37301620",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "event_type": "execution_started",
@agentic-sdlc/orchestrator:test: +       "execution_id": "3f1ade08-8be3-4416-96f9-d9c047b95b71",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": undefined,
@agentic-sdlc/orchestrator:test: +       "status": "queued",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.366Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "251884f2-afed-474b-b9d8-d03bb22294e7",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   2nd spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "stage_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "d12befe5-28e9-4f71-a2ef-b87cdd8ba294",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "event_type": "stage_started",
@agentic-sdlc/orchestrator:test: +       "execution_id": "3f1ade08-8be3-4416-96f9-d9c047b95b71",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "running",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.366Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "dd2539ac-97b6-42da-8962-59225db8a2b9",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   3rd spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "stage_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "14636f8a-9d56-4a1e-ae02-7d825005da58",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "error": Object {
@agentic-sdlc/orchestrator:test: +         "code": "STAGE_EXECUTION_ERROR",
@agentic-sdlc/orchestrator:test: +         "message": "[PHASE-2] Pipeline executor not yet refactored to use message bus architecture. This feature will be reimplemented in a future phase.",
@agentic-sdlc/orchestrator:test: +         "recoverable": false,
@agentic-sdlc/orchestrator:test: +       },
@agentic-sdlc/orchestrator:test: +       "event_type": "stage_failed",
@agentic-sdlc/orchestrator:test: +       "execution_id": "3f1ade08-8be3-4416-96f9-d9c047b95b71",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "running",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.366Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "084eb46f-3a97-45c7-81c4-b7c582dc6361",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   4th spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "stage_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "2bd260fe-2413-471b-b19d-1a487a7600cc",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "error": "Pipeline execution failed: Stage stage-1 failed",
@agentic-sdlc/orchestrator:test: +       "event_type": "execution_failed",
@agentic-sdlc/orchestrator:test: +       "execution_id": "3f1ade08-8be3-4416-96f9-d9c047b95b71",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "failed",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.366Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "d583f801-acd6-486d-93fe-a5e3f1369e05",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: Number of calls: 4
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/services/pipeline-executor.service.test.ts:725:36
@agentic-sdlc/orchestrator:test:     723| 
@agentic-sdlc/orchestrator:test:     724|       // Stage should still succeed despite gate failure
@agentic-sdlc/orchestrator:test:     725|       expect(mockEventBus.publish).toHaveBeenCalledWith(
@agentic-sdlc/orchestrator:test:        |                                    ^
@agentic-sdlc/orchestrator:test:     726|         expect.objectContaining({
@agentic-sdlc/orchestrator:test:     727|           type: 'pipeline:updates',
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[23/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/pipeline-executor.service.test.ts > PipelineExecutorService > Event Publishing > should publish execution_completed event when pipeline succeeds
@agentic-sdlc/orchestrator:test: AssertionError: expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: Received: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   1st spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "execution_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "a301863d-6d55-42ab-8179-46e53531f285",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "event_type": "execution_started",
@agentic-sdlc/orchestrator:test: +       "execution_id": "5cff4f14-78d8-4f7e-a585-6b216ed19430",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": undefined,
@agentic-sdlc/orchestrator:test: +       "status": "queued",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.623Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "32fb4898-f263-4663-985b-576696d491e9",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   2nd spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "execution_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "dd846475-5c60-456f-ad09-66fdbc2c13c6",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "event_type": "stage_started",
@agentic-sdlc/orchestrator:test: +       "execution_id": "5cff4f14-78d8-4f7e-a585-6b216ed19430",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "running",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.623Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "34f4f45f-287d-42b1-a5dd-8bc9c1ea0127",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   3rd spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "execution_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "99bfdf78-35aa-4f76-93d2-369815559610",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "error": Object {
@agentic-sdlc/orchestrator:test: +         "code": "STAGE_EXECUTION_ERROR",
@agentic-sdlc/orchestrator:test: +         "message": "[PHASE-2] Pipeline executor not yet refactored to use message bus architecture. This feature will be reimplemented in a future phase.",
@agentic-sdlc/orchestrator:test: +         "recoverable": false,
@agentic-sdlc/orchestrator:test: +       },
@agentic-sdlc/orchestrator:test: +       "event_type": "stage_failed",
@agentic-sdlc/orchestrator:test: +       "execution_id": "5cff4f14-78d8-4f7e-a585-6b216ed19430",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "running",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.623Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "cc0b95ed-1995-424f-a9c7-ab9910124865",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   4th spy call:
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:   Array [
@agentic-sdlc/orchestrator:test: -   ObjectContaining {
@agentic-sdlc/orchestrator:test: -     "payload": ObjectContaining {
@agentic-sdlc/orchestrator:test: -       "event_type": "execution_completed",
@agentic-sdlc/orchestrator:test: +   Object {
@agentic-sdlc/orchestrator:test: +     "id": "7abc30ba-1458-41c3-96fb-a072208f882a",
@agentic-sdlc/orchestrator:test: +     "payload": Object {
@agentic-sdlc/orchestrator:test: +       "error": "Pipeline execution failed: Stage stage-1 failed",
@agentic-sdlc/orchestrator:test: +       "event_type": "execution_failed",
@agentic-sdlc/orchestrator:test: +       "execution_id": "5cff4f14-78d8-4f7e-a585-6b216ed19430",
@agentic-sdlc/orchestrator:test: +       "pipeline_id": "123e4567-e89b-12d3-a456-426614174000",
@agentic-sdlc/orchestrator:test: +       "stage_id": "stage-1",
@agentic-sdlc/orchestrator:test: +       "status": "failed",
@agentic-sdlc/orchestrator:test:       },
@agentic-sdlc/orchestrator:test: +     "timestamp": "2025-11-14T13:44:22.623Z",
@agentic-sdlc/orchestrator:test: +     "trace_id": "b744569e-cbc1-4dc3-861a-9c1c548d9be1",
@agentic-sdlc/orchestrator:test:       "type": "pipeline:updates",
@agentic-sdlc/orchestrator:test: +     "workflow_id": "123e4567-e89b-12d3-a456-426614174001",
@agentic-sdlc/orchestrator:test:     },
@agentic-sdlc/orchestrator:test:   ]
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: Number of calls: 4
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ tests/services/pipeline-executor.service.test.ts:943:36
@agentic-sdlc/orchestrator:test:     941|       await new Promise(resolve => setTimeout(resolve, 100));
@agentic-sdlc/orchestrator:test:     942| 
@agentic-sdlc/orchestrator:test:     943|       expect(mockEventBus.publish).toHaveBeenCalledWith(
@agentic-sdlc/orchestrator:test:        |                                    ^
@agentic-sdlc/orchestrator:test:     944|         expect.objectContaining({
@agentic-sdlc/orchestrator:test:     945|           type: 'pipeline:updates',
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[24/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > createWorkflow > should successfully create a workflow
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > createWorkflow > should handle errors during workflow creation
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > getWorkflow > should return workflow when found
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > getWorkflow > should return null when workflow not found
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > listWorkflows > should return list of workflows
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > listWorkflows > should filter workflows by status
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > cancelWorkflow > should cancel an existing workflow
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > cancelWorkflow > should throw error when workflow not found
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > retryWorkflow > should retry a failed workflow
@agentic-sdlc/orchestrator:test:  FAIL  tests/services/workflow.service.test.ts > WorkflowService > retryWorkflow > should retry from specific stage
@agentic-sdlc/orchestrator:test: Error: [PHASE-2] WorkflowService requires IMessageBus - cannot initialize without it
@agentic-sdlc/orchestrator:test:  â¯ new WorkflowService src/services/workflow.service.ts:32:13
@agentic-sdlc/orchestrator:test:      30|     // Phase 2: Validate messageBus is provided
@agentic-sdlc/orchestrator:test:      31|     if (!messageBus) {
@agentic-sdlc/orchestrator:test:      32|       throw new Error('[PHASE-2] WorkflowService requires IMessageBus â€¦
@agentic-sdlc/orchestrator:test:        |             ^
@agentic-sdlc/orchestrator:test:      33|     }
@agentic-sdlc/orchestrator:test:      34| 
@agentic-sdlc/orchestrator:test:  â¯ tests/services/workflow.service.test.ts:56:23
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[25/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Message Bus (Pub/Sub) > should publish and receive a message
@agentic-sdlc/orchestrator:test: AssertionError: expected [] to have a length of 1 but got +0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 1
@agentic-sdlc/orchestrator:test: + 0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:88:24
@agentic-sdlc/orchestrator:test:      86|       await new Promise((resolve) => setTimeout(resolve, 100));
@agentic-sdlc/orchestrator:test:      87| 
@agentic-sdlc/orchestrator:test:      88|       expect(messages).toHaveLength(1);
@agentic-sdlc/orchestrator:test:        |                        ^
@agentic-sdlc/orchestrator:test:      89|       expect(messages[0].id).toBe(envelope.id);
@agentic-sdlc/orchestrator:test:      90|       expect(messages[0].payload.data).toBe('hello');
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[26/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Message Bus (Pub/Sub) > should handle multiple subscribers
@agentic-sdlc/orchestrator:test: AssertionError: expected [] to have a length of 1 but got +0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 1
@agentic-sdlc/orchestrator:test: + 0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:114:25
@agentic-sdlc/orchestrator:test:     112|       await new Promise((resolve) => setTimeout(resolve, 100));
@agentic-sdlc/orchestrator:test:     113| 
@agentic-sdlc/orchestrator:test:     114|       expect(messages1).toHaveLength(1);
@agentic-sdlc/orchestrator:test:        |                         ^
@agentic-sdlc/orchestrator:test:     115|       expect(messages2).toHaveLength(1);
@agentic-sdlc/orchestrator:test:     116|       expect(messages1[0].id).toBe(messages2[0].id);
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[27/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Message Bus (Pub/Sub) > should handle JSON serialization
@agentic-sdlc/orchestrator:test: TypeError: Cannot read properties of undefined (reading 'nested')
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:141:26
@agentic-sdlc/orchestrator:test:     139|       await new Promise((resolve) => setTimeout(resolve, 100));
@agentic-sdlc/orchestrator:test:     140| 
@agentic-sdlc/orchestrator:test:     141|       expect(messages[0].nested).toEqual(complexPayload.nested);
@agentic-sdlc/orchestrator:test:        |                          ^
@agentic-sdlc/orchestrator:test:     142|       expect(messages[0].timestamp).toBe(complexPayload.timestamp);
@agentic-sdlc/orchestrator:test:     143|     });
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[28/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Message Bus (Pub/Sub) > should check health
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Error Handling > should continue processing after handler error
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Resource Cleanup > should allow graceful shutdown
@agentic-sdlc/orchestrator:test: Error: Test timed out in 30000ms.
@agentic-sdlc/orchestrator:test: If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[29/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > KV Store > should increment counters
@agentic-sdlc/orchestrator:test: AssertionError: expected 11 to be 1 // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 1
@agentic-sdlc/orchestrator:test: + 11
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:187:20
@agentic-sdlc/orchestrator:test:     185|     it('should increment counters', async () => {
@agentic-sdlc/orchestrator:test:     186|       const val1 = await kv.incr('test:counter');
@agentic-sdlc/orchestrator:test:     187|       expect(val1).toBe(1);
@agentic-sdlc/orchestrator:test:        |                    ^
@agentic-sdlc/orchestrator:test:     188| 
@agentic-sdlc/orchestrator:test:     189|       const val2 = await kv.incr('test:counter');
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[30/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Envelope Format > should create envelope with defaults
@agentic-sdlc/orchestrator:test: AssertionError: expected '0bb557de-c3b8-4547-b0f7-5ced0e14f1cd' to be undefined
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:420:26
@agentic-sdlc/orchestrator:test:     418|       expect(env.ts).toBeDefined();
@agentic-sdlc/orchestrator:test:     419|       expect(env.payload).toEqual({ data: 'test' });
@agentic-sdlc/orchestrator:test:     420|       expect(env.corrId).toBeUndefined();
@agentic-sdlc/orchestrator:test:        |                          ^
@agentic-sdlc/orchestrator:test:     421|       expect(env.attempts).toBeUndefined();
@agentic-sdlc/orchestrator:test:     422|     });
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[31/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Envelope Format > should retry envelope with incremented attempts
@agentic-sdlc/orchestrator:test: AssertionError: expected '152ea2e5-5207-46da-b0b5-c8c265b87d84' to be '28381bf0-4e15-4a28-beeb-5d3a3699b6bb' // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 28381bf0-4e15-4a28-beeb-5d3a3699b6bb
@agentic-sdlc/orchestrator:test: + 152ea2e5-5207-46da-b0b5-c8c265b87d84
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:445:23
@agentic-sdlc/orchestrator:test:     443|       const env2 = retryEnvelope(env1, 'Connection timeout');
@agentic-sdlc/orchestrator:test:     444| 
@agentic-sdlc/orchestrator:test:     445|       expect(env2.id).toBe(env1.id);
@agentic-sdlc/orchestrator:test:        |                       ^
@agentic-sdlc/orchestrator:test:     446|       expect(env2.type).toBe(env1.type);
@agentic-sdlc/orchestrator:test:     447|       expect(env2.attempts).toBe(1);
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[32/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > Envelope Format > should increment attempts on subsequent retries
@agentic-sdlc/orchestrator:test: AssertionError: expected +0 to be undefined
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:457:29
@agentic-sdlc/orchestrator:test:     455|       const env4 = retryEnvelope(env3, 'Error 3');
@agentic-sdlc/orchestrator:test:     456| 
@agentic-sdlc/orchestrator:test:     457|       expect(env1.attempts).toBeUndefined();
@agentic-sdlc/orchestrator:test:        |                             ^
@agentic-sdlc/orchestrator:test:     458|       expect(env2.attempts).toBe(1);
@agentic-sdlc/orchestrator:test:     459|       expect(env3.attempts).toBe(2);
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[33/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > End-to-End Message Flow > should complete full message cycle
@agentic-sdlc/orchestrator:test: TypeError: Cannot read properties of null (reading 'id')
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:495:31
@agentic-sdlc/orchestrator:test:     493|       // Verify
@agentic-sdlc/orchestrator:test:     494|       expect(processedMessage).toBeDefined();
@agentic-sdlc/orchestrator:test:     495|       expect(processedMessage.id).toBe(inputEnvelope.id);
@agentic-sdlc/orchestrator:test:        |                               ^
@agentic-sdlc/orchestrator:test:     496|       expect(processedMessage.processed).toBe(true);
@agentic-sdlc/orchestrator:test:     497|       expect(processedMessage.corrId).toBe('e2e-trace');
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[34/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/integration.test.ts > Hexagonal Architecture Integration Tests > End-to-End Message Flow > should handle message with idempotency and retry
@agentic-sdlc/orchestrator:test: AssertionError: expected +0 to be 1 // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 1
@agentic-sdlc/orchestrator:test: + 0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/integration.test.ts:533:28
@agentic-sdlc/orchestrator:test:     531| 
@agentic-sdlc/orchestrator:test:     532|       // Should only process once
@agentic-sdlc/orchestrator:test:     533|       expect(messageCount).toBe(1);
@agentic-sdlc/orchestrator:test:        |                            ^
@agentic-sdlc/orchestrator:test:     534| 
@agentic-sdlc/orchestrator:test:     535|       await unsub();
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[35/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Pub/Sub Messaging > should publish and receive message
@agentic-sdlc/orchestrator:test: AssertionError: expected [] to have a length of 1 but got +0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 1
@agentic-sdlc/orchestrator:test: + 0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/smoke.test.ts:80:24
@agentic-sdlc/orchestrator:test:      78|       await new Promise((resolve) => setTimeout(resolve, 100));
@agentic-sdlc/orchestrator:test:      79| 
@agentic-sdlc/orchestrator:test:      80|       expect(messages).toHaveLength(1);
@agentic-sdlc/orchestrator:test:        |                        ^
@agentic-sdlc/orchestrator:test:      81|       expect(messages[0].id).toBe(envelope.id);
@agentic-sdlc/orchestrator:test:      82| 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[36/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Pub/Sub Messaging > should handle multiple publish/subscribe cycles
@agentic-sdlc/orchestrator:test: AssertionError: expected [] to have a length of 3 but got +0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 3
@agentic-sdlc/orchestrator:test: + 0
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/smoke.test.ts:102:24
@agentic-sdlc/orchestrator:test:     100|       await new Promise((resolve) => setTimeout(resolve, 200));
@agentic-sdlc/orchestrator:test:     101| 
@agentic-sdlc/orchestrator:test:     102|       expect(received).toHaveLength(3);
@agentic-sdlc/orchestrator:test:        |                        ^
@agentic-sdlc/orchestrator:test:     103|       expect(received[0].count).toBe(0);
@agentic-sdlc/orchestrator:test:     104|       expect(received[1].count).toBe(1);
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[37/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > KV Store Operations > should support atomic counters
@agentic-sdlc/orchestrator:test: AssertionError: expected 23 to be 1 // Object.is equality
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - Expected
@agentic-sdlc/orchestrator:test: + Received
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: - 1
@agentic-sdlc/orchestrator:test: + 23
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/smoke.test.ts:130:20
@agentic-sdlc/orchestrator:test:     128|       const val2 = await kv.incr('smoke:counter');
@agentic-sdlc/orchestrator:test:     129| 
@agentic-sdlc/orchestrator:test:     130|       expect(val1).toBe(1);
@agentic-sdlc/orchestrator:test:        |                    ^
@agentic-sdlc/orchestrator:test:     131|       expect(val2).toBe(2);
@agentic-sdlc/orchestrator:test:     132|     });
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[38/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Error Recovery > should continue after message error
@agentic-sdlc/orchestrator:test: AssertionError: expected 0 to be greater than 0
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/smoke.test.ts:212:26
@agentic-sdlc/orchestrator:test:     210|       await new Promise((resolve) => setTimeout(resolve, 150));
@agentic-sdlc/orchestrator:test:     211| 
@agentic-sdlc/orchestrator:test:     212|       expect(errorCount).toBeGreaterThan(0);
@agentic-sdlc/orchestrator:test:        |                          ^
@agentic-sdlc/orchestrator:test:     213|       expect(received).toHaveLength(1);
@agentic-sdlc/orchestrator:test:     214| 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  src/hexagonal/__tests__/smoke.test.ts > Hexagonal Framework - Smoke Tests > Correlation & Tracing > should preserve correlation ID through message flow
@agentic-sdlc/orchestrator:test: TypeError: Cannot read properties of undefined (reading 'corrId')
@agentic-sdlc/orchestrator:test:  â¯ src/hexagonal/__tests__/smoke.test.ts:235:26
@agentic-sdlc/orchestrator:test:     233|       await new Promise((resolve) => setTimeout(resolve, 100));
@agentic-sdlc/orchestrator:test:     234| 
@agentic-sdlc/orchestrator:test:     235|       expect(received[0].corrId).toBe(traceId);
@agentic-sdlc/orchestrator:test:        |                          ^
@agentic-sdlc/orchestrator:test:     236| 
@agentic-sdlc/orchestrator:test:     237|       await unsub();
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[40/62]â¯
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  Test Files  12 failed | 8 passed | 1 skipped (21)
@agentic-sdlc/orchestrator:test:       Tests  57 failed | 235 passed | 13 skipped (319)
@agentic-sdlc/orchestrator:test:    Start at  08:44:20
@agentic-sdlc/orchestrator:test:    Duration  163.57s (transform 1.82s, setup 977ms, collect 5.19s, tests 240.12s, environment 2ms, prepare 2.58s)
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test: 
@agentic-sdlc/orchestrator:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/orchestrator:test:        press h to show help, press q to quit
@agentic-sdlc/base-agent:test: [3Jc
@agentic-sdlc/base-agent:test:  RERUN  src/types.ts x1
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  â¯ tests/base-agent.test.ts  (12 tests | 12 failed) 5ms
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > initialization > should initialize successfully with valid config
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > initialization > should throw error if ANTHROPIC_API_KEY is not set
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task validation > should validate valid task assignment
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task validation > should throw ValidationError for invalid task
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task execution > should execute task successfully
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > result reporting > should report result to orchestrator
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > health check > should return healthy status
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > retry logic > should retry failed operations
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > retry logic > should throw after max retries
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > Claude integration > should call Claude API successfully
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > Claude integration > should handle Claude API errors
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > cleanup > should cleanup resources properly
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 12 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > initialization > should initialize successfully with valid config
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > initialization > should throw error if ANTHROPIC_API_KEY is not set
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task validation > should validate valid task assignment
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task validation > should throw ValidationError for invalid task
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task execution > should execute task successfully
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > result reporting > should report result to orchestrator
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > health check > should return healthy status
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > retry logic > should retry failed operations
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > retry logic > should throw after max retries
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > Claude integration > should call Claude API successfully
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > Claude integration > should handle Claude API errors
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > cleanup > should cleanup resources properly
@agentic-sdlc/base-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:  â¯ new BaseAgent src/base-agent.ts:52:13
@agentic-sdlc/base-agent:test:      50|     // Phase 3: Validate messageBus
@agentic-sdlc/base-agent:test:      51|     if (!messageBus) {
@agentic-sdlc/base-agent:test:      52|       throw new AgentError('messageBus is required for Phase 3 messageâ€¦
@agentic-sdlc/base-agent:test:        |             ^
@agentic-sdlc/base-agent:test:      53|     }
@agentic-sdlc/base-agent:test:      54| 
@agentic-sdlc/base-agent:test:  â¯ new TestAgent tests/base-agent.test.ts:37:5
@agentic-sdlc/base-agent:test:  â¯ tests/base-agent.test.ts:92:13
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/base-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/12]â¯
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/base-agent:test:       Tests  12 failed (12)
@agentic-sdlc/base-agent:test:    Start at  08:50:06
@agentic-sdlc/base-agent:test:    Duration  125ms
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/base-agent:test:        press h to show help, press q to quit
@agentic-sdlc/base-agent:test:        rerun x1
@agentic-sdlc/base-agent:test: [2K[1A[2K[G[3Jc
@agentic-sdlc/base-agent:test:  RERUN  src/base-agent.ts x2
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  â¯ tests/base-agent.test.ts  (12 tests | 12 failed) 5ms
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > initialization > should initialize successfully with valid config
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > initialization > should throw error if ANTHROPIC_API_KEY is not set
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task validation > should validate valid task assignment
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task validation > should throw ValidationError for invalid task
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task execution > should execute task successfully
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > result reporting > should report result to orchestrator
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > health check > should return healthy status
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > retry logic > should retry failed operations
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > retry logic > should throw after max retries
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > Claude integration > should call Claude API successfully
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > Claude integration > should handle Claude API errors
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > cleanup > should cleanup resources properly
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 12 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > initialization > should initialize successfully with valid config
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > initialization > should throw error if ANTHROPIC_API_KEY is not set
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task validation > should validate valid task assignment
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task validation > should throw ValidationError for invalid task
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task execution > should execute task successfully
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > result reporting > should report result to orchestrator
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > health check > should return healthy status
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > retry logic > should retry failed operations
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > retry logic > should throw after max retries
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > Claude integration > should call Claude API successfully
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > Claude integration > should handle Claude API errors
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > cleanup > should cleanup resources properly
@agentic-sdlc/base-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:  â¯ new BaseAgent src/base-agent.ts:52:13
@agentic-sdlc/base-agent:test:      50|     // Phase 3: Validate messageBus
@agentic-sdlc/base-agent:test:      51|     if (!messageBus) {
@agentic-sdlc/base-agent:test:      52|       throw new AgentError('messageBus is required for Phase 3 messageâ€¦
@agentic-sdlc/base-agent:test:        |             ^
@agentic-sdlc/base-agent:test:      53|     }
@agentic-sdlc/base-agent:test:      54| 
@agentic-sdlc/base-agent:test:  â¯ new TestAgent tests/base-agent.test.ts:37:5
@agentic-sdlc/base-agent:test:  â¯ tests/base-agent.test.ts:92:13
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/base-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/12]â¯
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/base-agent:test:       Tests  12 failed (12)
@agentic-sdlc/base-agent:test:    Start at  09:34:07
@agentic-sdlc/base-agent:test:    Duration  124ms
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/base-agent:test:        press h to show help, press q to quit
@agentic-sdlc/base-agent:test:        rerun x2
@agentic-sdlc/base-agent:test: [2K[1A[2K[G[3Jc
@agentic-sdlc/base-agent:test:  RERUN  src/base-agent.ts x3
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  â¯ tests/base-agent.test.ts  (12 tests | 12 failed) 5ms
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > initialization > should initialize successfully with valid config
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > initialization > should throw error if ANTHROPIC_API_KEY is not set
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task validation > should validate valid task assignment
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task validation > should throw ValidationError for invalid task
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > task execution > should execute task successfully
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > result reporting > should report result to orchestrator
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > health check > should return healthy status
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > retry logic > should retry failed operations
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > retry logic > should throw after max retries
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > Claude integration > should call Claude API successfully
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > Claude integration > should handle Claude API errors
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:    â¯ tests/base-agent.test.ts > BaseAgent > cleanup > should cleanup resources properly
@agentic-sdlc/base-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 12 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > initialization > should initialize successfully with valid config
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > initialization > should throw error if ANTHROPIC_API_KEY is not set
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task validation > should validate valid task assignment
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task validation > should throw ValidationError for invalid task
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > task execution > should execute task successfully
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > result reporting > should report result to orchestrator
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > health check > should return healthy status
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > retry logic > should retry failed operations
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > retry logic > should throw after max retries
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > Claude integration > should call Claude API successfully
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > Claude integration > should handle Claude API errors
@agentic-sdlc/base-agent:test:  FAIL  tests/base-agent.test.ts > BaseAgent > cleanup > should cleanup resources properly
@agentic-sdlc/base-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/base-agent:test:  â¯ new BaseAgent src/base-agent.ts:52:13
@agentic-sdlc/base-agent:test:      50|     // Phase 3: Validate messageBus
@agentic-sdlc/base-agent:test:      51|     if (!messageBus) {
@agentic-sdlc/base-agent:test:      52|       throw new AgentError('messageBus is required for Phase 3 messageâ€¦
@agentic-sdlc/base-agent:test:        |             ^
@agentic-sdlc/base-agent:test:      53|     }
@agentic-sdlc/base-agent:test:      54| 
@agentic-sdlc/base-agent:test:  â¯ new TestAgent tests/base-agent.test.ts:37:5
@agentic-sdlc/base-agent:test:  â¯ tests/base-agent.test.ts:92:13
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/base-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/base-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/12]â¯
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/base-agent:test:       Tests  12 failed (12)
@agentic-sdlc/base-agent:test:    Start at  09:34:23
@agentic-sdlc/base-agent:test:    Duration  121ms
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test: 
@agentic-sdlc/base-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/base-agent:test:        press h to show help, press q to quit
@agentic-sdlc/base-agent:test:        rerun x3
@agentic-sdlc/scaffold-agent:test: [3Jc
@agentic-sdlc/scaffold-agent:test:  RERUN  src/scaffold-agent.ts x1
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts  (14 tests | 14 failed) 8ms
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 14 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:  â¯ new BaseAgent ../base-agent/src/base-agent.ts:52:13
@agentic-sdlc/scaffold-agent:test:  â¯ new ScaffoldAgent src/scaffold-agent.ts:28:5
@agentic-sdlc/scaffold-agent:test:      26| 
@agentic-sdlc/scaffold-agent:test:      27|   constructor(messageBus: any) {
@agentic-sdlc/scaffold-agent:test:      28|     super(
@agentic-sdlc/scaffold-agent:test:        |     ^
@agentic-sdlc/scaffold-agent:test:      29|       {
@agentic-sdlc/scaffold-agent:test:      30|         // SESSION #37: Use constants for agent type
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts:17:13
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/14]â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/scaffold-agent:test:       Tests  14 failed (14)
@agentic-sdlc/scaffold-agent:test:    Start at  09:35:18
@agentic-sdlc/scaffold-agent:test:    Duration  129ms
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/scaffold-agent:test:        press h to show help, press q to quit
@agentic-sdlc/scaffold-agent:test:        rerun x1
@agentic-sdlc/scaffold-agent:test: [2K[1A[2K[G[3Jc
@agentic-sdlc/scaffold-agent:test:  RERUN  src/scaffold-agent.ts x2
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts  (14 tests | 14 failed) 8ms
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 14 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:  â¯ new BaseAgent ../base-agent/src/base-agent.ts:52:13
@agentic-sdlc/scaffold-agent:test:  â¯ new ScaffoldAgent src/scaffold-agent.ts:28:5
@agentic-sdlc/scaffold-agent:test:      26| 
@agentic-sdlc/scaffold-agent:test:      27|   constructor(messageBus: any) {
@agentic-sdlc/scaffold-agent:test:      28|     super(
@agentic-sdlc/scaffold-agent:test:        |     ^
@agentic-sdlc/scaffold-agent:test:      29|       {
@agentic-sdlc/scaffold-agent:test:      30|         // SESSION #37: Use constants for agent type
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts:17:13
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/14]â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/scaffold-agent:test:       Tests  14 failed (14)
@agentic-sdlc/scaffold-agent:test:    Start at  09:35:33
@agentic-sdlc/scaffold-agent:test:    Duration  79ms
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/scaffold-agent:test:        press h to show help, press q to quit
@agentic-sdlc/scaffold-agent:test:        rerun x2
@agentic-sdlc/scaffold-agent:test: [2K[1A[2K[G[3Jc
@agentic-sdlc/scaffold-agent:test:  RERUN  src/scaffold-agent.ts x3
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts  (14 tests | 14 failed) 8ms
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 14 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:  â¯ new BaseAgent ../base-agent/src/base-agent.ts:52:13
@agentic-sdlc/scaffold-agent:test:  â¯ new ScaffoldAgent src/scaffold-agent.ts:28:5
@agentic-sdlc/scaffold-agent:test:      26| 
@agentic-sdlc/scaffold-agent:test:      27|   constructor(messageBus: any) {
@agentic-sdlc/scaffold-agent:test:      28|     super(
@agentic-sdlc/scaffold-agent:test:        |     ^
@agentic-sdlc/scaffold-agent:test:      29|       {
@agentic-sdlc/scaffold-agent:test:      30|         // SESSION #37: Use constants for agent type
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts:17:13
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/14]â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/scaffold-agent:test:       Tests  14 failed (14)
@agentic-sdlc/scaffold-agent:test:    Start at  09:35:45
@agentic-sdlc/scaffold-agent:test:    Duration  75ms
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/scaffold-agent:test:        press h to show help, press q to quit
@agentic-sdlc/scaffold-agent:test:        rerun x3
@agentic-sdlc/scaffold-agent:test: [2K[1A[2K[G[3Jc
@agentic-sdlc/scaffold-agent:test:  RERUN  src/scaffold-agent.ts x4
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts  (14 tests | 14 failed) 8ms
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 14 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:  â¯ new BaseAgent ../base-agent/src/base-agent.ts:52:13
@agentic-sdlc/scaffold-agent:test:  â¯ new ScaffoldAgent src/scaffold-agent.ts:27:5
@agentic-sdlc/scaffold-agent:test:      25| 
@agentic-sdlc/scaffold-agent:test:      26|   constructor(messageBus: any) {
@agentic-sdlc/scaffold-agent:test:      27|     super(
@agentic-sdlc/scaffold-agent:test:        |     ^
@agentic-sdlc/scaffold-agent:test:      28|       {
@agentic-sdlc/scaffold-agent:test:      29|         // SESSION #37: Use constants for agent type
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts:17:13
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/14]â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/scaffold-agent:test:       Tests  14 failed (14)
@agentic-sdlc/scaffold-agent:test:    Start at  09:36:01
@agentic-sdlc/scaffold-agent:test:    Duration  78ms
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/scaffold-agent:test:        press h to show help, press q to quit
@agentic-sdlc/scaffold-agent:test:        rerun x4
@agentic-sdlc/scaffold-agent:test: [2K[1A[2K[G[3Jc
@agentic-sdlc/scaffold-agent:test:  RERUN  src/scaffold-agent.ts x5
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts  (14 tests | 14 failed) 8ms
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:    â¯ tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test:      â†’ messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯ Failed Tests 14 â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should initialize with correct capabilities
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Agent initialization > should have scaffold agent type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should execute scaffold task successfully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle invalid task gracefully
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle Claude API errors
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Task execution > should handle malformed Claude response
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for service type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for app type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for feature type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Project type support > should generate correct structure for capability type
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Contract generation > should generate Zod schemas from contracts
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should generate test files when generate_tests is true
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Test generation > should skip test files when generate_tests is false
@agentic-sdlc/scaffold-agent:test:  FAIL  tests/scaffold-agent.test.ts > ScaffoldAgent > Metrics collection > should collect execution metrics
@agentic-sdlc/scaffold-agent:test: AgentError: messageBus is required for Phase 3 message bus integration
@agentic-sdlc/scaffold-agent:test:  â¯ new BaseAgent ../base-agent/src/base-agent.ts:52:13
@agentic-sdlc/scaffold-agent:test:  â¯ new ScaffoldAgent src/scaffold-agent.ts:27:5
@agentic-sdlc/scaffold-agent:test:      25| 
@agentic-sdlc/scaffold-agent:test:      26|   constructor(messageBus: any) {
@agentic-sdlc/scaffold-agent:test:      27|     super(
@agentic-sdlc/scaffold-agent:test:        |     ^
@agentic-sdlc/scaffold-agent:test:      28|       {
@agentic-sdlc/scaffold-agent:test:      29|         // SESSION #37: Use constants for agent type
@agentic-sdlc/scaffold-agent:test:  â¯ tests/scaffold-agent.test.ts:17:13
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
@agentic-sdlc/scaffold-agent:test: Serialized Error: { code: 'CONFIG_ERROR' }
@agentic-sdlc/scaffold-agent:test: â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/14]â¯
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  Test Files  1 failed (1)
@agentic-sdlc/scaffold-agent:test:       Tests  14 failed (14)
@agentic-sdlc/scaffold-agent:test:    Start at  09:36:05
@agentic-sdlc/scaffold-agent:test:    Duration  79ms
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test: 
@agentic-sdlc/scaffold-agent:test:  FAIL  Tests failed. Watching for file changes...
@agentic-sdlc/scaffold-agent:test:        press h to show help, press q to quit
@agentic-sdlc/scaffold-agent:test:        rerun x5
